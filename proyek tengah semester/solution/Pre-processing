{"cells":[{"cell_type":"markdown","metadata":{"id":"FolvaDH2n_H-"},"source":["# **Demographics Prediction in Twitter**"]},{"cell_type":"markdown","metadata":{"id":"V2ZdaoxpoCRi"},"source":["## **I. Import Libraries**"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":16761,"status":"ok","timestamp":1650436417013,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"4vGMPGXu0Vgz","outputId":"07dba747-7c50-428d-e4f6-807e2b6cb95e"},"outputs":[{"output_type":"stream","name":"stdout","text":["Requirement already satisfied: gdown in /usr/local/lib/python3.7/dist-packages (4.4.0)\n","Requirement already satisfied: filelock in /usr/local/lib/python3.7/dist-packages (from gdown) (3.6.0)\n","Requirement already satisfied: tqdm in /usr/local/lib/python3.7/dist-packages (from gdown) (4.64.0)\n","Requirement already satisfied: six in /usr/local/lib/python3.7/dist-packages (from gdown) (1.15.0)\n","Requirement already satisfied: beautifulsoup4 in /usr/local/lib/python3.7/dist-packages (from gdown) (4.6.3)\n","Requirement already satisfied: requests[socks] in /usr/local/lib/python3.7/dist-packages (from gdown) (2.23.0)\n","Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in /usr/local/lib/python3.7/dist-packages (from requests[socks]->gdown) (1.24.3)\n","Requirement already satisfied: idna<3,>=2.5 in /usr/local/lib/python3.7/dist-packages (from requests[socks]->gdown) (2.10)\n","Requirement already satisfied: chardet<4,>=3.0.2 in /usr/local/lib/python3.7/dist-packages (from requests[socks]->gdown) (3.0.4)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.7/dist-packages (from requests[socks]->gdown) (2021.10.8)\n","Requirement already satisfied: PySocks!=1.5.7,>=1.5.6 in /usr/local/lib/python3.7/dist-packages (from requests[socks]->gdown) (1.7.1)\n","Requirement already satisfied: PySastrawi in /usr/local/lib/python3.7/dist-packages (1.2.0)\n","Requirement already satisfied: sentence-transformers in /usr/local/lib/python3.7/dist-packages (2.2.0)\n","Requirement already satisfied: torch>=1.6.0 in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (1.10.0+cu111)\n","Requirement already satisfied: transformers<5.0.0,>=4.6.0 in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (4.18.0)\n","Requirement already satisfied: tqdm in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (4.64.0)\n","Requirement already satisfied: nltk in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (3.2.5)\n","Requirement already satisfied: huggingface-hub in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (0.5.1)\n","Requirement already satisfied: torchvision in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (0.11.1+cu111)\n","Requirement already satisfied: scikit-learn in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (1.0.2)\n","Requirement already satisfied: sentencepiece in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (0.1.96)\n","Requirement already satisfied: scipy in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (1.4.1)\n","Requirement already satisfied: numpy in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (1.21.6)\n","Requirement already satisfied: typing-extensions in /usr/local/lib/python3.7/dist-packages (from torch>=1.6.0->sentence-transformers) (4.1.1)\n","Requirement already satisfied: sacremoses in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (0.0.49)\n","Requirement already satisfied: packaging>=20.0 in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (21.3)\n","Requirement already satisfied: tokenizers!=0.11.3,<0.13,>=0.11.1 in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (0.12.1)\n","Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (6.0)\n","Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (4.11.3)\n","Requirement already satisfied: regex!=2019.12.17 in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (2019.12.20)\n","Requirement already satisfied: filelock in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (3.6.0)\n","Requirement already satisfied: requests in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (2.23.0)\n","Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in /usr/local/lib/python3.7/dist-packages (from packaging>=20.0->transformers<5.0.0,>=4.6.0->sentence-transformers) (3.0.8)\n","Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->transformers<5.0.0,>=4.6.0->sentence-transformers) (3.8.0)\n","Requirement already satisfied: six in /usr/local/lib/python3.7/dist-packages (from nltk->sentence-transformers) (1.15.0)\n","Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in /usr/local/lib/python3.7/dist-packages (from requests->transformers<5.0.0,>=4.6.0->sentence-transformers) (1.24.3)\n","Requirement already satisfied: chardet<4,>=3.0.2 in /usr/local/lib/python3.7/dist-packages (from requests->transformers<5.0.0,>=4.6.0->sentence-transformers) (3.0.4)\n","Requirement already satisfied: idna<3,>=2.5 in /usr/local/lib/python3.7/dist-packages (from requests->transformers<5.0.0,>=4.6.0->sentence-transformers) (2.10)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.7/dist-packages (from requests->transformers<5.0.0,>=4.6.0->sentence-transformers) (2021.10.8)\n","Requirement already satisfied: joblib in /usr/local/lib/python3.7/dist-packages (from sacremoses->transformers<5.0.0,>=4.6.0->sentence-transformers) (1.1.0)\n","Requirement already satisfied: click in /usr/local/lib/python3.7/dist-packages (from sacremoses->transformers<5.0.0,>=4.6.0->sentence-transformers) (7.1.2)\n","Requirement already satisfied: threadpoolctl>=2.0.0 in /usr/local/lib/python3.7/dist-packages (from scikit-learn->sentence-transformers) (3.1.0)\n","Requirement already satisfied: pillow!=8.3.0,>=5.3.0 in /usr/local/lib/python3.7/dist-packages (from torchvision->sentence-transformers) (7.1.2)\n","Requirement already satisfied: sklearn-pycrfsuite in /usr/local/lib/python3.7/dist-packages (0.4.0)\n","Requirement already satisfied: python-crfsuite-extension in /usr/local/lib/python3.7/dist-packages (from sklearn-pycrfsuite) (0.9.7)\n","Requirement already satisfied: tabulate in /usr/local/lib/python3.7/dist-packages (from sklearn-pycrfsuite) (0.8.9)\n","Requirement already satisfied: tqdm>=2.0 in /usr/local/lib/python3.7/dist-packages (from sklearn-pycrfsuite) (4.64.0)\n","Requirement already satisfied: six in /usr/local/lib/python3.7/dist-packages (from sklearn-pycrfsuite) (1.15.0)\n"]}],"source":["!pip install --upgrade --no-cache-dir gdown\n","!pip install PySastrawi\n","!pip install sentence-transformers\n","!pip install sklearn-pycrfsuite"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"ZRwOBFpin2kM","outputId":"8040cad6-fd6a-462c-f218-0412f4c2fd79","executionInfo":{"status":"ok","timestamp":1650436354830,"user_tz":-420,"elapsed":32876,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"}}},"outputs":[{"output_type":"stream","name":"stdout","text":["Requirement already satisfied: nltk in /usr/local/lib/python3.7/dist-packages (3.2.5)\n","Requirement already satisfied: six in /usr/local/lib/python3.7/dist-packages (from nltk) (1.15.0)\n","Collecting Sastrawi\n","  Downloading Sastrawi-1.0.1-py2.py3-none-any.whl (209 kB)\n","\u001b[K     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 209 kB 3.3 MB/s \n","\u001b[?25hInstalling collected packages: Sastrawi\n","Successfully installed Sastrawi-1.0.1\n","Collecting python-crfsuite\n","  Downloading python_crfsuite-0.9.8-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (965 kB)\n","\u001b[K     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 965 kB 5.2 MB/s \n","\u001b[?25hInstalling collected packages: python-crfsuite\n","Successfully installed python-crfsuite-0.9.8\n","[nltk_data] Downloading package punkt to /root/nltk_data...\n","[nltk_data]   Unzipping tokenizers/punkt.zip.\n"]}],"source":["!pip install nltk\n","!pip install Sastrawi\n","!pip install python-crfsuite\n","\n","# Data Wrangling\n","import pandas as pd\n","import numpy as np\n","import zipfile\n","import nltk\n","import csv\n","import re\n","import os\n","\n","# Visualization\n","import matplotlib.pyplot as plt\n","import seaborn as sns\n","\n","# Data pre-processing and modeling.\n","import Sastrawi\n","from tqdm import tqdm\n","from sklearn.feature_extraction.text import CountVectorizer\n","from sklearn.model_selection import cross_validate\n","from sklearn.metrics import confusion_matrix\n","from sklearn.naive_bayes import MultinomialNB\n","from nltk.tag import CRFTagger\n","from collections import Counter\n","from Sastrawi.Stemmer.StemmerFactory import StemmerFactory\n","nltk.download('punkt')\n","\n","# Ignore warnings\n","import warnings\n","warnings.filterwarnings(\"ignore\")"]},{"cell_type":"markdown","metadata":{"id":"DnNlHY4qoPqF"},"source":["## **II. Import Data**"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":35},"executionInfo":{"elapsed":8,"status":"ok","timestamp":1650436354832,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"632Lut2M4pDg","outputId":"86a19ee2-6306-41d2-eb38-b478823f08a6"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'/content'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":3}],"source":["os.getcwd()"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":3974,"status":"ok","timestamp":1650436420982,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"LTMsLBqqoSGm","outputId":"35a39eb9-cafe-4b47-987b-6f924cc8d0c0"},"outputs":[{"output_type":"stream","name":"stdout","text":["/usr/local/lib/python3.7/dist-packages/gdown/cli.py:131: FutureWarning: Option `--id` was deprecated in version 4.3.1 and will be removed in 5.0. You don't need to pass it anymore to use a file ID.\n","  category=FutureWarning,\n","Downloading...\n","From: https://drive.google.com/uc?id=1kTysZly34-s7dXdLSI4kb7zhWNfIIrGZ\n","To: /content/Anmedsos 2022 Mid-Term Project Released Data-20220413T121229Z-001.zip\n","100% 700M/700M [00:03<00:00, 219MB/s]\n"]}],"source":["# Download dataset folder\n","!gdown --id 1kTysZly34-s7dXdLSI4kb7zhWNfIIrGZ "]},{"cell_type":"code","execution_count":null,"metadata":{"id":"u8SWGfKT7FsW"},"outputs":[],"source":["# Ekstrak zip\n","local_zip = 'Anmedsos 2022 Mid-Term Project Released Data-20220413T121229Z-001.zip'\n","zip_ref   = zipfile.ZipFile(local_zip, 'r')\n","zip_ref.extractall('dataset')\n","zip_ref.close()\n","\n","# Change current directory\n","os.chdir(\"./dataset/Anmedsos 2022 Mid-Term Project Released Data\")"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":35},"executionInfo":{"elapsed":7,"status":"ok","timestamp":1650436463832,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"G6Z8w66G7_Mf","outputId":"f412adcc-765d-4cbc-dd02-b13763e68538"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'/content/dataset/Anmedsos 2022 Mid-Term Project Released Data'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":10}],"source":["os.getcwd()"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":50509,"status":"ok","timestamp":1650436514337,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"q9GI11ur8HaG","outputId":"a7bf598d-832b-4796-ebcd-4f73869a90a1"},"outputs":[{"output_type":"stream","name":"stdout","text":["<class 'pandas.core.frame.DataFrame'>\n","RangeIndex: 10867 entries, 0 to 10866\n","Data columns (total 2 columns):\n"," #   Column    Non-Null Count  Dtype \n","---  ------    --------------  ----- \n"," 0   username  10867 non-null  object\n"," 1   tweet     10597 non-null  object\n","dtypes: object(2)\n","memory usage: 169.9+ KB\n"]}],"source":["data = pd.read_csv(\"df_training_tweet.csv\")\n","data.info()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"V1W2X1qtKMl2"},"outputs":[],"source":["profile = pd.read_excel(\"df_training_labeled_structured.xlsx\")"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":206},"executionInfo":{"elapsed":735,"status":"ok","timestamp":1650436519704,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"YWW1vNkl8O9q","outputId":"82e73493-1a05-48c9-8449-2bf7ac202aad"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["          username                                              tweet\n","0    _atikamutiara  Why?<SEP>The weekend  https://t.co/l011C36osT<...\n","1    lolitagustine  Lifeâ€™s special occasions ðŸŒ™  https://t.co/7K6KX...\n","2      newsplatter  Untuk yg lagi hamil:  https://t.co/nI01EfH0tc<...\n","3  lukmansaifuddin  Di tengah pandemi yang kian menguras emosi, me...\n","4      ismailfahmi  @fauklunub @jokopinurbo Blm pernah beli buku p..."],"text/html":["\n","  <div id=\"df-a34113ad-67c5-4c3b-a12e-3671f747dfe9\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>username</th>\n","      <th>tweet</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>_atikamutiara</td>\n","      <td>Why?&lt;SEP&gt;The weekend  https://t.co/l011C36osT&lt;...</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>lolitagustine</td>\n","      <td>Lifeâ€™s special occasions ðŸŒ™  https://t.co/7K6KX...</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>newsplatter</td>\n","      <td>Untuk yg lagi hamil:  https://t.co/nI01EfH0tc&lt;...</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>lukmansaifuddin</td>\n","      <td>Di tengah pandemi yang kian menguras emosi, me...</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>ismailfahmi</td>\n","      <td>@fauklunub @jokopinurbo Blm pernah beli buku p...</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-a34113ad-67c5-4c3b-a12e-3671f747dfe9')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-a34113ad-67c5-4c3b-a12e-3671f747dfe9 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-a34113ad-67c5-4c3b-a12e-3671f747dfe9');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":13}],"source":["data.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":478},"executionInfo":{"elapsed":9,"status":"ok","timestamp":1650436519705,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"u3pPCNk7K53g","outputId":"64f1699f-8aa1-4d05-a7b1-2fd238bef2cc"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["  created_at                                        description  \\\n","0 2009-05-30                                                NaN   \n","1 2009-07-27  Fearfully and wonderfully made. A traveller bo...   \n","2 2009-04-18  Penulis FILOSOFI TERAS. Ketua Umum Partai Kead...   \n","3 2010-10-05                                                NaN   \n","4 2009-04-21  Founder of Drone Emprit and Media Kernels Indo...   \n","\n","   followers_count  following_count  gender  listed_count  \\\n","0            480.0           1018.0  wanita           5.0   \n","1          49759.0            592.0  wanita          78.0   \n","2         166639.0            932.0    pria         615.0   \n","3         512976.0           1326.0    pria         368.0   \n","4         115656.0           1589.0    pria         210.0   \n","\n","                       location                 name             occupation  \\\n","0                           NaN        Atika Mutiara  sosial kemasyarakatan   \n","1            Inside your heaven      Lolita Agustine    sains dan teknologi   \n","2                       Jakarta    Henry Manampiring                hiburan   \n","3                           NaN  Lukman H. Saifuddin  sosial kemasyarakatan   \n","4  Jakarta Selatan, DKI Jakarta         Ismail Fahmi    sains dan teknologi   \n","\n","   tweet_count         username  verified  \n","0      21752.0    _atikamutiara       0.0  \n","1      34002.0    lolitagustine       0.0  \n","2     142258.0      newsplatter       1.0  \n","3      32942.0  lukmansaifuddin       1.0  \n","4      42779.0      ismailfahmi       0.0  "],"text/html":["\n","  <div id=\"df-e4727982-6bf3-47be-ad85-887554b9e9d3\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>created_at</th>\n","      <th>description</th>\n","      <th>followers_count</th>\n","      <th>following_count</th>\n","      <th>gender</th>\n","      <th>listed_count</th>\n","      <th>location</th>\n","      <th>name</th>\n","      <th>occupation</th>\n","      <th>tweet_count</th>\n","      <th>username</th>\n","      <th>verified</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>2009-05-30</td>\n","      <td>NaN</td>\n","      <td>480.0</td>\n","      <td>1018.0</td>\n","      <td>wanita</td>\n","      <td>5.0</td>\n","      <td>NaN</td>\n","      <td>Atika Mutiara</td>\n","      <td>sosial kemasyarakatan</td>\n","      <td>21752.0</td>\n","      <td>_atikamutiara</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2009-07-27</td>\n","      <td>Fearfully and wonderfully made. A traveller bo...</td>\n","      <td>49759.0</td>\n","      <td>592.0</td>\n","      <td>wanita</td>\n","      <td>78.0</td>\n","      <td>Inside your heaven</td>\n","      <td>Lolita Agustine</td>\n","      <td>sains dan teknologi</td>\n","      <td>34002.0</td>\n","      <td>lolitagustine</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>2009-04-18</td>\n","      <td>Penulis FILOSOFI TERAS. Ketua Umum Partai Kead...</td>\n","      <td>166639.0</td>\n","      <td>932.0</td>\n","      <td>pria</td>\n","      <td>615.0</td>\n","      <td>Jakarta</td>\n","      <td>Henry Manampiring</td>\n","      <td>hiburan</td>\n","      <td>142258.0</td>\n","      <td>newsplatter</td>\n","      <td>1.0</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>2010-10-05</td>\n","      <td>NaN</td>\n","      <td>512976.0</td>\n","      <td>1326.0</td>\n","      <td>pria</td>\n","      <td>368.0</td>\n","      <td>NaN</td>\n","      <td>Lukman H. Saifuddin</td>\n","      <td>sosial kemasyarakatan</td>\n","      <td>32942.0</td>\n","      <td>lukmansaifuddin</td>\n","      <td>1.0</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>2009-04-21</td>\n","      <td>Founder of Drone Emprit and Media Kernels Indo...</td>\n","      <td>115656.0</td>\n","      <td>1589.0</td>\n","      <td>pria</td>\n","      <td>210.0</td>\n","      <td>Jakarta Selatan, DKI Jakarta</td>\n","      <td>Ismail Fahmi</td>\n","      <td>sains dan teknologi</td>\n","      <td>42779.0</td>\n","      <td>ismailfahmi</td>\n","      <td>0.0</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-e4727982-6bf3-47be-ad85-887554b9e9d3')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-e4727982-6bf3-47be-ad85-887554b9e9d3 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-e4727982-6bf3-47be-ad85-887554b9e9d3');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":14}],"source":["profile.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":206},"executionInfo":{"elapsed":8,"status":"ok","timestamp":1650436519705,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"HSYEBO5sK_AO","outputId":"e5ea4580-83cf-4365-86ee-2ad6f583550c"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["          username                                              tweet  gender  \\\n","0    _atikamutiara  Why?<SEP>The weekend  https://t.co/l011C36osT<...  wanita   \n","1    lolitagustine  Lifeâ€™s special occasions ðŸŒ™  https://t.co/7K6KX...  wanita   \n","2      newsplatter  Untuk yg lagi hamil:  https://t.co/nI01EfH0tc<...    pria   \n","3  lukmansaifuddin  Di tengah pandemi yang kian menguras emosi, me...    pria   \n","4      ismailfahmi  @fauklunub @jokopinurbo Blm pernah beli buku p...    pria   \n","\n","              occupation  \n","0  sosial kemasyarakatan  \n","1    sains dan teknologi  \n","2                hiburan  \n","3  sosial kemasyarakatan  \n","4    sains dan teknologi  "],"text/html":["\n","  <div id=\"df-70a6ca25-8a59-410b-acfd-b5f0114e2b1e\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>username</th>\n","      <th>tweet</th>\n","      <th>gender</th>\n","      <th>occupation</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>_atikamutiara</td>\n","      <td>Why?&lt;SEP&gt;The weekend  https://t.co/l011C36osT&lt;...</td>\n","      <td>wanita</td>\n","      <td>sosial kemasyarakatan</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>lolitagustine</td>\n","      <td>Lifeâ€™s special occasions ðŸŒ™  https://t.co/7K6KX...</td>\n","      <td>wanita</td>\n","      <td>sains dan teknologi</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>newsplatter</td>\n","      <td>Untuk yg lagi hamil:  https://t.co/nI01EfH0tc&lt;...</td>\n","      <td>pria</td>\n","      <td>hiburan</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>lukmansaifuddin</td>\n","      <td>Di tengah pandemi yang kian menguras emosi, me...</td>\n","      <td>pria</td>\n","      <td>sosial kemasyarakatan</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>ismailfahmi</td>\n","      <td>@fauklunub @jokopinurbo Blm pernah beli buku p...</td>\n","      <td>pria</td>\n","      <td>sains dan teknologi</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-70a6ca25-8a59-410b-acfd-b5f0114e2b1e')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-70a6ca25-8a59-410b-acfd-b5f0114e2b1e button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-70a6ca25-8a59-410b-acfd-b5f0114e2b1e');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":15}],"source":["data[\"gender\"] = profile[\"gender\"]\n","data[\"occupation\"] = profile[\"occupation\"]\n","data.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"1Udpqt_jMiwb"},"outputs":[],"source":["data_train = data[data['gender'] != \"-\"]"]},{"cell_type":"markdown","metadata":{"id":"NlANCZFHpCwV"},"source":["## **III. Data Pre-processing**"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"_GShw4u3pO0G"},"outputs":[],"source":["# Stopwords \n","!wget -q --no-check-certificate 'https://docs.google.com/uc?export=download&id=1JhzvbijTZ3BlZN_xI_w2UjyXkwjX9r5A' -O stopwords.csv\n","\n","# Slang dan singkatan\n","!wget -q --no-check-certificate 'https://docs.google.com/uc?export=download&id=19NOzXA8Voturopg_DTuiMns3s4M2IAUz' -O kamus_singkatan.csv\n","!wget -q --no-check-certificate 'https://docs.google.com/uc?export=download&id=1VjgivEr1pxyRCuyhVifPnaReFz0yd8Us' -O colloquial-indonesian-lexicon.csv"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"vY5aRaEhpBBB"},"outputs":[],"source":["def clean_tweet(tweet):\n","  clean_tw = re.sub(r\"\\d+\", \" \", tweet) # remove digit\n","  clean_tw = clean_tw.lower()\n","  clean_tw = re.sub(\"url\", \" \", clean_tw)\n","  clean_tw = re.sub(\"username\", \" \", clean_tw)\n","  clean_tw = re.sub('rt', \" \", clean_tw)\n","  clean_tw = re.sub(\"sensitive-no\", \" \", clean_tw)\n","  clean_tw = re.sub(\"sep\", \" \", clean_tw)\n","  clean_tw = re.sub(r\"https?:\\/[^\\s]*\", \" \", clean_tw) # remove http tag\n","  clean_tw = re.sub(r\"[^\\w\\s]\", \" \", clean_tw)\n","  clean_tw = re.sub(r\"#[^\\s]*\", \" \", clean_tw)\n","  clean_tw = re.sub(r\"@[^\\s]*\", \" \", clean_tw)\n","  normal_regex = re.compile(r\"(.)\\1{1,}\")\n","  clean_tw = normal_regex.sub(r\"\\1\\1\", clean_tw) # remove consecutive word\n","  clean_tw = re.sub(r\"\\s+\", \" \", clean_tw) # remove excessive space\n","  clean_tw = clean_tw.strip()\n","  return clean_tw"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"Jwq89-ywr2kY"},"outputs":[],"source":["df_kamus_singkatan = pd.read_csv('kamus_singkatan.csv')\n","df_kamus_alay = pd.read_csv('colloquial-indonesian-lexicon.csv')"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"26AKB6ijpJL6"},"outputs":[],"source":["def remove_stopwords(tweet, stopwords):\n","  tokens = nltk.word_tokenize(tweet)\n","  tokens_after = []\n","  for token in tokens:\n","    if token in df_kamus_singkatan['singkatan'].values:\n","      token = df_kamus_singkatan.loc[df_kamus_singkatan['singkatan'] == token, 'asli'].values[0]              \n","    if token in df_kamus_alay['slang'].values:\n","      token = df_kamus_alay.loc[df_kamus_alay['slang'] == token, 'formal'].values[0]\n","    if token not in stopwords:\n","      tokens_after.append(token)\n","  clean_tw = \" \".join(tokens_after)\n","  return clean_tw"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"sTFm_MvjpTTf"},"outputs":[],"source":["def stemming(tweet, stemmer):\n","  tokens = nltk.word_tokenize(tweet)\n","  stemmed_tokens = []\n","  for token in tokens:\n","    stemmed_token = stemmer.stem(token)\n","    stemmed_tokens.append(stemmed_token)\n","  stemmed_tweet = \" \".join(stemmed_tokens)\n","  return stemmed_tweet"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"Ywy__kSnpYXV"},"outputs":[],"source":["# List stopword\n","stopwords = pd.read_csv(\"stopwords.csv\", header=None)\n","stopwords = stopwords[0].values\n","\n","# Stemmer\n","factory = StemmerFactory()\n","stemmer = factory.create_stemmer()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"hwMl5NpUpaeu"},"outputs":[],"source":["def pre_processing(tweets):\n","  clean_tweets = []\n","  for tweet in tqdm(tweets):\n","    clean_tw = clean_tweet(tweet)\n","    clean_tw = remove_stopwords(clean_tw, stopwords)\n","    # clean_tw = stemming(clean_tw, stemmer)\n","    clean_tweets.append(clean_tw)\n","  return clean_tweets"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":2,"status":"ok","timestamp":1650436612731,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"q0pugT59QVuX","outputId":"78480258-a274-4d53-a27a-9d30653dd576"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["username        0\n","tweet         270\n","gender          0\n","occupation      0\n","dtype: int64"]},"metadata":{},"execution_count":29}],"source":["data.isnull().sum()"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1650436613113,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"Dc8CPzl5QfWw","outputId":"7d81a7bc-1c77-48b4-b7ff-b9d62f20eaa2"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["           username tweet gender occupation\n","10       sarahhadju   NaN      -    hiburan\n","11      steffizmr15   NaN      -    hiburan\n","12        maynuriza   NaN      -    hiburan\n","18       ria_winata   NaN      -    hiburan\n","35     melati_jkt48   NaN      -    hiburan\n","...             ...   ...    ...        ...\n","10862  nelsonalom90   NaN   pria   olahraga\n","10863       abduh03   NaN   pria   olahraga\n","10864   arapenta_lp   NaN   pria   olahraga\n","10865     alenzivio   NaN   pria   olahraga\n","10866  yussanugraha   NaN   pria   olahraga\n","\n","[270 rows x 4 columns]"],"text/html":["\n","  <div id=\"df-ed964883-0c56-4b98-9187-31433fb10685\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>username</th>\n","      <th>tweet</th>\n","      <th>gender</th>\n","      <th>occupation</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>10</th>\n","      <td>sarahhadju</td>\n","      <td>NaN</td>\n","      <td>-</td>\n","      <td>hiburan</td>\n","    </tr>\n","    <tr>\n","      <th>11</th>\n","      <td>steffizmr15</td>\n","      <td>NaN</td>\n","      <td>-</td>\n","      <td>hiburan</td>\n","    </tr>\n","    <tr>\n","      <th>12</th>\n","      <td>maynuriza</td>\n","      <td>NaN</td>\n","      <td>-</td>\n","      <td>hiburan</td>\n","    </tr>\n","    <tr>\n","      <th>18</th>\n","      <td>ria_winata</td>\n","      <td>NaN</td>\n","      <td>-</td>\n","      <td>hiburan</td>\n","    </tr>\n","    <tr>\n","      <th>35</th>\n","      <td>melati_jkt48</td>\n","      <td>NaN</td>\n","      <td>-</td>\n","      <td>hiburan</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>10862</th>\n","      <td>nelsonalom90</td>\n","      <td>NaN</td>\n","      <td>pria</td>\n","      <td>olahraga</td>\n","    </tr>\n","    <tr>\n","      <th>10863</th>\n","      <td>abduh03</td>\n","      <td>NaN</td>\n","      <td>pria</td>\n","      <td>olahraga</td>\n","    </tr>\n","    <tr>\n","      <th>10864</th>\n","      <td>arapenta_lp</td>\n","      <td>NaN</td>\n","      <td>pria</td>\n","      <td>olahraga</td>\n","    </tr>\n","    <tr>\n","      <th>10865</th>\n","      <td>alenzivio</td>\n","      <td>NaN</td>\n","      <td>pria</td>\n","      <td>olahraga</td>\n","    </tr>\n","    <tr>\n","      <th>10866</th>\n","      <td>yussanugraha</td>\n","      <td>NaN</td>\n","      <td>pria</td>\n","      <td>olahraga</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>270 rows Ã— 4 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-ed964883-0c56-4b98-9187-31433fb10685')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-ed964883-0c56-4b98-9187-31433fb10685 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-ed964883-0c56-4b98-9187-31433fb10685');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":30}],"source":["data[data['tweet'].isnull()]"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"Dcfc5D0hQ1Kk"},"outputs":[],"source":["data.dropna(inplace=True)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":2,"status":"ok","timestamp":1650436617415,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"dGbo5rNMQ5wV","outputId":"0510f15c-e395-4768-cf97-8ccc191efea8"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["username      0\n","tweet         0\n","gender        0\n","occupation    0\n","dtype: int64"]},"metadata":{},"execution_count":32}],"source":["data.isnull().sum()"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":43823,"status":"ok","timestamp":1650436661540,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"FsxnJ3QmQ9I4","outputId":"18dd7881-f18d-4329-8a98-da5e4fd52e40"},"outputs":[{"output_type":"stream","name":"stdout","text":["<class 'pandas.core.frame.DataFrame'>\n","Int64Index: 10597 entries, 0 to 10846\n","Data columns (total 4 columns):\n"," #   Column      Non-Null Count  Dtype \n","---  ------      --------------  ----- \n"," 0   username    10597 non-null  object\n"," 1   tweet       10597 non-null  object\n"," 2   gender      10597 non-null  object\n"," 3   occupation  10597 non-null  object\n","dtypes: object(4)\n","memory usage: 413.9+ KB\n"]}],"source":["data.drop_duplicates(inplace=True)\n","data.info()"]},{"cell_type":"markdown","metadata":{"id":"cM69d15LU9Ht"},"source":["Clean 1 - Fadli"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":371},"id":"0BXTTWpFTbQV","outputId":"45a5da66-6541-47ab-b55a-e20e5b0c1985","executionInfo":{"status":"error","timestamp":1650446654728,"user_tz":-420,"elapsed":1432452,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"}}},"outputs":[{"output_type":"stream","name":"stderr","text":["  1%|          | 21/3500 [2:46:31<459:48:32, 475.80s/it]\n"]},{"output_type":"error","ename":"KeyboardInterrupt","evalue":"ignored","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mKeyboardInterrupt\u001b[0m                         Traceback (most recent call last)","\u001b[0;32m<ipython-input-34-f548f85a44cd>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m()\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[0mdata1\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mdata\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0miloc\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;36m3500\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      2\u001b[0m \u001b[0mtweets1\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mdata1\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'tweet'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mtolist\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 3\u001b[0;31m \u001b[0mtweet_clean1\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mpre_processing\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mtweets1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;32m<ipython-input-28-712634924c4f>\u001b[0m in \u001b[0;36mpre_processing\u001b[0;34m(tweets)\u001b[0m\n\u001b[1;32m      4\u001b[0m     \u001b[0mclean_tw\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mclean_tweet\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mtweet\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      5\u001b[0m     \u001b[0mclean_tw\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mremove_stopwords\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mclean_tw\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mstopwords\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 6\u001b[0;31m     \u001b[0mclean_tw\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mstemming\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mclean_tw\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mstemmer\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      7\u001b[0m     \u001b[0mclean_tweets\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mappend\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mclean_tw\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      8\u001b[0m   \u001b[0;32mreturn\u001b[0m \u001b[0mclean_tweets\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m<ipython-input-26-187af4cca229>\u001b[0m in \u001b[0;36mstemming\u001b[0;34m(tweet, stemmer)\u001b[0m\n\u001b[1;32m      3\u001b[0m   \u001b[0mstemmed_tokens\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m[\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      4\u001b[0m   \u001b[0;32mfor\u001b[0m \u001b[0mtoken\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mtokens\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 5\u001b[0;31m     \u001b[0mstemmed_token\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mstemmer\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mstem\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mtoken\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      6\u001b[0m     \u001b[0mstemmed_tokens\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mappend\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mstemmed_token\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      7\u001b[0m   \u001b[0mstemmed_tweet\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m\" \"\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mjoin\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mstemmed_tokens\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.7/dist-packages/Sastrawi/Stemmer/CachedStemmer.py\u001b[0m in \u001b[0;36mstem\u001b[0;34m(self, text)\u001b[0m\n\u001b[1;32m     18\u001b[0m                 \u001b[0mstems\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mappend\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcache\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mget\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mword\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     19\u001b[0m             \u001b[0;32melse\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 20\u001b[0;31m                 \u001b[0mstem\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mdelegatedStemmer\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mstem\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mword\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     21\u001b[0m                 \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcache\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mset\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mword\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mstem\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     22\u001b[0m                 \u001b[0mstems\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mappend\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mstem\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.7/dist-packages/Sastrawi/Stemmer/Stemmer.py\u001b[0m in \u001b[0;36mstem\u001b[0;34m(self, text)\u001b[0m\n\u001b[1;32m     25\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     26\u001b[0m         \u001b[0;32mfor\u001b[0m \u001b[0mword\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mwords\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 27\u001b[0;31m             \u001b[0mstems\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mappend\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mstem_word\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mword\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     28\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     29\u001b[0m         \u001b[0;32mreturn\u001b[0m \u001b[0;34m' '\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mjoin\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mstems\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.7/dist-packages/Sastrawi/Stemmer/Stemmer.py\u001b[0m in \u001b[0;36mstem_word\u001b[0;34m(self, word)\u001b[0m\n\u001b[1;32m     34\u001b[0m             \u001b[0;32mreturn\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mstem_plural_word\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mword\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     35\u001b[0m         \u001b[0;32melse\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 36\u001b[0;31m             \u001b[0;32mreturn\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mstem_singular_word\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mword\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     37\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     38\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0mis_plural\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mword\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.7/dist-packages/Sastrawi/Stemmer/Stemmer.py\u001b[0m in \u001b[0;36mstem_singular_word\u001b[0;34m(self, word)\u001b[0m\n\u001b[1;32m     82\u001b[0m         \u001b[0;34m\"\"\"Stem a singular word to its common stem form.\"\"\"\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     83\u001b[0m         \u001b[0mcontext\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mContext\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mword\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mdictionary\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mvisitor_provider\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 84\u001b[0;31m         \u001b[0mcontext\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mexecute\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     85\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     86\u001b[0m         \u001b[0;32mreturn\u001b[0m \u001b[0mcontext\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mresult\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.7/dist-packages/Sastrawi/Stemmer/Context/Context.py\u001b[0m in \u001b[0;36mexecute\u001b[0;34m(self)\u001b[0m\n\u001b[1;32m     35\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     36\u001b[0m         \u001b[0;31m#step 1 - 5\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 37\u001b[0;31m         \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mstart_stemming_process\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     38\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     39\u001b[0m         \u001b[0;31m#step 6\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.7/dist-packages/Sastrawi/Stemmer/Context/Context.py\u001b[0m in \u001b[0;36mstart_stemming_process\u001b[0;34m(self)\u001b[0m\n\u001b[1;32m     78\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     79\u001b[0m         \u001b[0;31m#step 4, 5\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 80\u001b[0;31m         \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mremove_prefixes\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     81\u001b[0m         \u001b[0;32mif\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mdictionary\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcontains\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcurrent_word\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     82\u001b[0m             \u001b[0;32mreturn\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.7/dist-packages/Sastrawi/Stemmer/Context/Context.py\u001b[0m in \u001b[0;36mremove_prefixes\u001b[0;34m(self)\u001b[0m\n\u001b[1;32m     87\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0mremove_prefixes\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     88\u001b[0m         \u001b[0;32mfor\u001b[0m \u001b[0mi\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mrange\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m3\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 89\u001b[0;31m             \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0maccept_prefix_visitors\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mprefix_pisitors\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     90\u001b[0m             \u001b[0;32mif\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mdictionary\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcontains\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcurrent_word\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     91\u001b[0m                 \u001b[0;32mreturn\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.7/dist-packages/Sastrawi/Stemmer/Context/Context.py\u001b[0m in \u001b[0;36maccept_prefix_visitors\u001b[0;34m(self, visitors)\u001b[0m\n\u001b[1;32m    108\u001b[0m         \u001b[0mremovalCount\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mlen\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mremovals\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    109\u001b[0m         \u001b[0;32mfor\u001b[0m \u001b[0mvisitor\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mvisitors\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 110\u001b[0;31m             \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0maccept\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mvisitor\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    111\u001b[0m             \u001b[0;32mif\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mdictionary\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcontains\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcurrent_word\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    112\u001b[0m                 \u001b[0;32mreturn\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcurrent_word\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.7/dist-packages/Sastrawi/Stemmer/Context/Context.py\u001b[0m in \u001b[0;36maccept\u001b[0;34m(self, visitor)\u001b[0m\n\u001b[1;32m     95\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     96\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0maccept\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mvisitor\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 97\u001b[0;31m         \u001b[0mvisitor\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mvisit\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     98\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     99\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0maccept_visitors\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mvisitors\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.7/dist-packages/Sastrawi/Stemmer/Context/Visitor/AbstractDisambiguatePrefixRule.py\u001b[0m in \u001b[0;36mvisit\u001b[0;34m(self, context)\u001b[0m\n\u001b[1;32m     13\u001b[0m         \u001b[0;32mfor\u001b[0m \u001b[0mdisambiguator\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mdisambiguators\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     14\u001b[0m             \u001b[0mresult\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mdisambiguator\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mdisambiguate\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mcontext\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcurrent_word\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 15\u001b[0;31m             \u001b[0;32mif\u001b[0m \u001b[0mcontext\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mdictionary\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcontains\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mresult\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     16\u001b[0m                 \u001b[0;32mbreak\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     17\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.7/dist-packages/Sastrawi/Dictionary/ArrayDictionary.py\u001b[0m in \u001b[0;36mcontains\u001b[0;34m(self, word)\u001b[0m\n\u001b[1;32m      8\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      9\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0mcontains\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mword\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 10\u001b[0;31m         \u001b[0;32mreturn\u001b[0m \u001b[0mword\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mwords\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     11\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     12\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0mcount\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mKeyboardInterrupt\u001b[0m: "]}],"source":["data1 = data.iloc[:3500]\n","tweets1 = data1['tweet'].tolist()\n","tweet_clean1 = pre_processing(tweets1)\n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"9lOop5joUPkA"},"outputs":[],"source":["data1['tweet_clean'] = tweet_clean1\n","data1.to_csv(\"clean1\")"]},{"cell_type":"markdown","metadata":{"id":"BJLPEtarU7i-"},"source":["Clean 2 - Daniel"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":334,"status":"ok","timestamp":1649859856016,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"l6tEf6xKTvYc","outputId":"025c9c65-4ba9-4a70-8c29-7dad2b6f7c05"},"outputs":[{"data":{"text/html":["\n","  <div id=\"df-1e1003ac-9109-47ee-9fe5-3c16d2539584\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>username</th>\n","      <th>tweet</th>\n","      <th>gender</th>\n","      <th>occupation</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>3615</th>\n","      <td>didi_irawadi</td>\n","      <td>Dimana Kapolri? Diduga kuat aparat polisi mene...</td>\n","      <td>pria</td>\n","      <td>-</td>\n","    </tr>\n","    <tr>\n","      <th>3616</th>\n","      <td>didi_ng</td>\n","      <td>@amin_agustin Aamiin yaa Robb&lt;SEP&gt;hape ketingg...</td>\n","      <td>wanita</td>\n","      <td>-</td>\n","    </tr>\n","    <tr>\n","      <th>3617</th>\n","      <td>didi_riyadi</td>\n","      <td>Hi tweeps mulai skr twitter ini tidak berlaku ...</td>\n","      <td>pria</td>\n","      <td>-</td>\n","    </tr>\n","    <tr>\n","      <th>3618</th>\n","      <td>didi_sugar</td>\n","      <td>@kiranilaras1 @Adjiebucu @sandiuno @prabowo La...</td>\n","      <td>pria</td>\n","      <td>-</td>\n","    </tr>\n","    <tr>\n","      <th>3619</th>\n","      <td>didi0474</td>\n","      <td>@BukaBantuan saya mau mencairkan dana, tapi ap...</td>\n","      <td>pria</td>\n","      <td>-</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>7179</th>\n","      <td>minangkabaucom</td>\n","      <td>Tertimbun Longsor, Akses Jalan Lintas Painan-B...</td>\n","      <td>wanita</td>\n","      <td>-</td>\n","    </tr>\n","    <tr>\n","      <th>7180</th>\n","      <td>mind_soul2019</td>\n","      <td>@Anonymous_2024 Bukan itu tagar melainkan ini ...</td>\n","      <td>wanita</td>\n","      <td>-</td>\n","    </tr>\n","    <tr>\n","      <th>7181</th>\n","      <td>minhyunsc</td>\n","      <td>@lingshanx à¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¸£à¸±à¸šà¸šà¸š&lt;SEP&gt;@seungyounxint à¸¡à¸µà¸„...</td>\n","      <td>wanita</td>\n","      <td>-</td>\n","    </tr>\n","    <tr>\n","      <th>7182</th>\n","      <td>minto_milanisti</td>\n","      <td>Media Perdjoeangan Batam mengucapkan selamat m...</td>\n","      <td>wanita</td>\n","      <td>-</td>\n","    </tr>\n","    <tr>\n","      <th>7183</th>\n","      <td>miori061</td>\n","      <td>https://t.co/PfgkGl4LzF #IndonesiaMenang  #Un...</td>\n","      <td>wanita</td>\n","      <td>-</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>3500 rows Ã— 4 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-1e1003ac-9109-47ee-9fe5-3c16d2539584')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-1e1003ac-9109-47ee-9fe5-3c16d2539584 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-1e1003ac-9109-47ee-9fe5-3c16d2539584');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "],"text/plain":["             username                                              tweet  \\\n","3615     didi_irawadi  Dimana Kapolri? Diduga kuat aparat polisi mene...   \n","3616          didi_ng  @amin_agustin Aamiin yaa Robb<SEP>hape ketingg...   \n","3617      didi_riyadi  Hi tweeps mulai skr twitter ini tidak berlaku ...   \n","3618       didi_sugar  @kiranilaras1 @Adjiebucu @sandiuno @prabowo La...   \n","3619         didi0474  @BukaBantuan saya mau mencairkan dana, tapi ap...   \n","...               ...                                                ...   \n","7179   minangkabaucom  Tertimbun Longsor, Akses Jalan Lintas Painan-B...   \n","7180    mind_soul2019  @Anonymous_2024 Bukan itu tagar melainkan ini ...   \n","7181        minhyunsc  @lingshanx à¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¸£à¸±à¸šà¸šà¸š<SEP>@seungyounxint à¸¡à¸µà¸„...   \n","7182  minto_milanisti  Media Perdjoeangan Batam mengucapkan selamat m...   \n","7183         miori061   https://t.co/PfgkGl4LzF #IndonesiaMenang  #Un...   \n","\n","      gender occupation  \n","3615    pria          -  \n","3616  wanita          -  \n","3617    pria          -  \n","3618    pria          -  \n","3619    pria          -  \n","...      ...        ...  \n","7179  wanita          -  \n","7180  wanita          -  \n","7181  wanita          -  \n","7182  wanita          -  \n","7183  wanita          -  \n","\n","[3500 rows x 4 columns]"]},"execution_count":42,"metadata":{},"output_type":"execute_result"}],"source":["data2 = data.iloc[3500:7000]\n","tweets2 = data2['tweet'].tolist()\n","tweet_clean2 = pre_processing(tweets2)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"wZNvULBdUad-"},"outputs":[],"source":["data2['tweet_clean'] = tweet_clean2\n","data2.to_csv(\"clean2\")"]},{"cell_type":"markdown","metadata":{"id":"sv9lPcinU5PA"},"source":["Clean 3 - Ichsan"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":318,"status":"ok","timestamp":1649859879658,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"y6Q3jKrtT7tv","outputId":"6eb201fc-9769-4be4-d903-2e14bab17cfc"},"outputs":[{"data":{"text/html":["\n","  <div id=\"df-9e5a09be-2a3f-42fc-9978-81c76d245de0\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>username</th>\n","      <th>tweet</th>\n","      <th>gender</th>\n","      <th>occupation</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>7184</th>\n","      <td>miqbaal92</td>\n","      <td>@susipudjiastuti Biar adil rakyat tidak terus ...</td>\n","      <td>pria</td>\n","      <td>-</td>\n","    </tr>\n","    <tr>\n","      <th>7185</th>\n","      <td>miqballl</td>\n","      <td>mobil paling ga sabaran di tol : Fortuner Item...</td>\n","      <td>pria</td>\n","      <td>-</td>\n","    </tr>\n","    <tr>\n","      <th>7186</th>\n","      <td>mir3198</td>\n","      <td>Lets follow your talent to become your job opp...</td>\n","      <td>wanita</td>\n","      <td>-</td>\n","    </tr>\n","    <tr>\n","      <th>7187</th>\n","      <td>miraclecathy</td>\n","      <td>Cinta lingkungan ya harus konsumsi BBM ramah l...</td>\n","      <td>wanita</td>\n","      <td>-</td>\n","    </tr>\n","    <tr>\n","      <th>7188</th>\n","      <td>miraclechristio</td>\n","      <td>@OKK_UI Zaman mungkin boleh berganti tetapi pr...</td>\n","      <td>pria</td>\n","      <td>-</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>10842</th>\n","      <td>danieldokter</td>\n","      <td>#TheBubble\\n\\nhttps://t.co/1GAhbfEUlx&lt;SEP&gt;RT @...</td>\n","      <td>pria</td>\n","      <td>kesehatan</td>\n","    </tr>\n","    <tr>\n","      <th>10843</th>\n","      <td>kumsky</td>\n","      <td>RT @KetutBudiarsa4: Aku Tak akan menyerah, sem...</td>\n","      <td>pria</td>\n","      <td>kesehatan</td>\n","    </tr>\n","    <tr>\n","      <th>10844</th>\n","      <td>dv_b</td>\n","      <td>Top Eleven - Token and Cash Generator 2017 htt...</td>\n","      <td>pria</td>\n","      <td>kesehatan</td>\n","    </tr>\n","    <tr>\n","      <th>10845</th>\n","      <td>sophia_hage</td>\n","      <td>RT @100prsenmanusia: 100% Webinar with #FiveFi...</td>\n","      <td>wanita</td>\n","      <td>kesehatan</td>\n","    </tr>\n","    <tr>\n","      <th>10846</th>\n","      <td>drjeffryt</td>\n","      <td>Sending this message to all cancer warrior.......</td>\n","      <td>pria</td>\n","      <td>kesehatan</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>3597 rows Ã— 4 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-9e5a09be-2a3f-42fc-9978-81c76d245de0')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-9e5a09be-2a3f-42fc-9978-81c76d245de0 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-9e5a09be-2a3f-42fc-9978-81c76d245de0');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "],"text/plain":["              username                                              tweet  \\\n","7184         miqbaal92  @susipudjiastuti Biar adil rakyat tidak terus ...   \n","7185          miqballl  mobil paling ga sabaran di tol : Fortuner Item...   \n","7186           mir3198  Lets follow your talent to become your job opp...   \n","7187      miraclecathy  Cinta lingkungan ya harus konsumsi BBM ramah l...   \n","7188   miraclechristio  @OKK_UI Zaman mungkin boleh berganti tetapi pr...   \n","...                ...                                                ...   \n","10842     danieldokter  #TheBubble\\n\\nhttps://t.co/1GAhbfEUlx<SEP>RT @...   \n","10843           kumsky  RT @KetutBudiarsa4: Aku Tak akan menyerah, sem...   \n","10844             dv_b  Top Eleven - Token and Cash Generator 2017 htt...   \n","10845      sophia_hage  RT @100prsenmanusia: 100% Webinar with #FiveFi...   \n","10846        drjeffryt  Sending this message to all cancer warrior.......   \n","\n","       gender occupation  \n","7184     pria          -  \n","7185     pria          -  \n","7186   wanita          -  \n","7187   wanita          -  \n","7188     pria          -  \n","...       ...        ...  \n","10842    pria  kesehatan  \n","10843    pria  kesehatan  \n","10844    pria  kesehatan  \n","10845  wanita  kesehatan  \n","10846    pria  kesehatan  \n","\n","[3597 rows x 4 columns]"]},"execution_count":43,"metadata":{},"output_type":"execute_result"}],"source":["data3 = data.iloc[7000:]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":335},"executionInfo":{"elapsed":342280,"status":"error","timestamp":1649859728333,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"xQkLtZ6_BjzQ","outputId":"60d7f80f-a8df-4807-cf5b-cbd9809ed636"},"outputs":[{"name":"stderr","output_type":"stream","text":["  0%|          | 20/10597 [05:42<50:15:22, 17.11s/it]\n"]},{"ename":"KeyboardInterrupt","evalue":"ignored","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mKeyboardInterrupt\u001b[0m                         Traceback (most recent call last)","\u001b[0;32m<ipython-input-38-3b68abc5b929>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m()\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0mtweet_clean\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mpre_processing\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mtweets\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;32m<ipython-input-20-712634924c4f>\u001b[0m in \u001b[0;36mpre_processing\u001b[0;34m(tweets)\u001b[0m\n\u001b[1;32m      3\u001b[0m   \u001b[0;32mfor\u001b[0m \u001b[0mtweet\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mtqdm\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mtweets\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      4\u001b[0m     \u001b[0mclean_tw\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mclean_tweet\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mtweet\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 5\u001b[0;31m     \u001b[0mclean_tw\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mremove_stopwords\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mclean_tw\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mstopwords\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      6\u001b[0m     \u001b[0mclean_tw\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mstemming\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mclean_tw\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mstemmer\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      7\u001b[0m     \u001b[0mclean_tweets\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mappend\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mclean_tw\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m<ipython-input-15-25b6f27c4a2a>\u001b[0m in \u001b[0;36mremove_stopwords\u001b[0;34m(tweet, stopwords)\u001b[0m\n\u001b[1;32m      5\u001b[0m     \u001b[0;32mif\u001b[0m \u001b[0mtoken\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mdf_kamus_singkatan\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'singkatan'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mvalues\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      6\u001b[0m       \u001b[0mtoken\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mdf_kamus_singkatan\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mloc\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mdf_kamus_singkatan\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'singkatan'\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m==\u001b[0m \u001b[0mtoken\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m'asli'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mvalues\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 7\u001b[0;31m     \u001b[0;32mif\u001b[0m \u001b[0mtoken\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mdf_kamus_alay\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'slang'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mvalues\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      8\u001b[0m       \u001b[0mtoken\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mdf_kamus_alay\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mloc\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mdf_kamus_alay\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'slang'\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m==\u001b[0m \u001b[0mtoken\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m'formal'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mvalues\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      9\u001b[0m     \u001b[0;32mif\u001b[0m \u001b[0mtoken\u001b[0m \u001b[0;32mnot\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mstopwords\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mKeyboardInterrupt\u001b[0m: "]}],"source":["tweets3 = data3['tweet'].tolist()\n","tweet_clean3 = pre_processing(tweets3)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"7X9Nr5dHUlm2"},"outputs":[],"source":["data3['tweet_clean'] = tweet_clean3\n","data3.to_csv(\"clean3\")"]},{"cell_type":"markdown","metadata":{"id":"olIylDZzJT4R"},"source":["## Pre-processing train occupation"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"whMztciCJXUy","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1650262480719,"user_tz":-420,"elapsed":17995,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"}},"outputId":"3ed111c0-0acb-461d-a7e1-f0a158407af2"},"outputs":[{"output_type":"stream","name":"stdout","text":["Mounted at /content/drive\n"]}],"source":["from google.colab import drive\n","drive.mount('/content/drive')"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"CQyd8U7jJxGh"},"outputs":[],"source":["train_occupation = pd.read_csv(\"/content/drive/Shareddrives/tk1-anamedsos/clean2.csv\")"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"KA9Yke0pJz8Z"},"outputs":[],"source":["train_occupation.isnull().sum()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"ZWE_WQJtJ1zx"},"outputs":[],"source":["train_occupation.dropna(inplace=True)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"UDc88wpJJ3qH"},"outputs":[],"source":["train_occupation[\"occupation\"].value_counts()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"TI6xEBZeO2cs"},"outputs":[],"source":["tweets = train_occupation['tweet'].tolist()\n","tweets_occupation = pre_processing(tweets)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"-Y6FTyWvO-8C"},"outputs":[],"source":["train_occupation['tweet_clean'] = tweets_occupation\n","train_occupation.to_csv(\"/content/drive/Shareddrives/tk1-anamedsos/train_occupation_clean.csv\")"]},{"cell_type":"markdown","metadata":{"id":"10JJ-_WmW3dy"},"source":["preproses occupation"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":2791,"status":"ok","timestamp":1650262515046,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"odXPEmeKW5_J","outputId":"494909c8-ef6a-42f9-9a46-8acee62b2d93"},"outputs":[{"output_type":"stream","name":"stdout","text":["Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount(\"/content/drive\", force_remount=True).\n"]}],"source":["from google.colab import drive\n","drive.mount('/content/drive')"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"IDgi3oahXR-V"},"outputs":[],"source":["train_occupation = pd.read_csv(\"/content/drive/Shareddrives/tk1-anamedsos/train_occupation.csv\")"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":22,"status":"ok","timestamp":1650262519222,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"},"user_tz":-420},"id":"l5zwM5GdXquH","outputId":"5223de8c-dff3-4cf8-b0ff-f165a3dc0068"},"outputs":[{"output_type":"stream","name":"stdout","text":["<class 'pandas.core.frame.DataFrame'>\n","RangeIndex: 778 entries, 0 to 777\n","Data columns (total 5 columns):\n"," #   Column      Non-Null Count  Dtype \n","---  ------      --------------  ----- \n"," 0   Unnamed: 0  778 non-null    int64 \n"," 1   username    778 non-null    object\n"," 2   tweet       778 non-null    object\n"," 3   gender      778 non-null    object\n"," 4   occupation  778 non-null    object\n","dtypes: int64(1), object(4)\n","memory usage: 30.5+ KB\n"]}],"source":["train_occupation.info()"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"7L5QJUqIXh9S","executionInfo":{"status":"ok","timestamp":1650272565718,"user_tz":-420,"elapsed":3183080,"user":{"displayName":"Daniel Syahputra Purba","userId":"16062251870246311539"}},"outputId":"a1b29303-026f-4c90-bf1a-a1af1db9e7c3"},"outputs":[{"output_type":"stream","name":"stderr","text":["100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 778/778 [2:47:26<00:00, 12.91s/it]\n"]}],"source":["tweets_clean = pre_processing(train_occupation['tweet'].tolist())"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"c0cgiIUIXwfy"},"outputs":[],"source":["train_occupation['tweet_clean'] = tweets_clean\n","train_occupation.to_csv(\"/content/drive/Shareddrives/tk1-anamedsos/train_occupation_clean2.csv\")"]}],"metadata":{"colab":{"collapsed_sections":[],"name":"Pre-processing","provenance":[],"toc_visible":true,"authorship_tag":"ABX9TyOLGLYSlWD2sL7ADNIgdN1o"},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}