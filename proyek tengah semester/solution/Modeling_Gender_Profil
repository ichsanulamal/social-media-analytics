{"cells":[{"cell_type":"markdown","metadata":{"id":"FolvaDH2n_H-"},"source":["# **Demographics Prediction in Twitter**"]},{"cell_type":"code","source":["from google.colab import drive\n","drive.mount('/content/drive')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"A5wlOA3oWRJC","executionInfo":{"status":"ok","timestamp":1650432272322,"user_tz":-420,"elapsed":2316,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"29f55953-fee1-44c9-d4c4-34f9b8a28a2f"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount(\"/content/drive\", force_remount=True).\n"]}]},{"cell_type":"markdown","metadata":{"id":"V2ZdaoxpoCRi"},"source":["## **Import Libraries**"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":31086,"status":"ok","timestamp":1650432303404,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"},"user_tz":-420},"id":"4vGMPGXu0Vgz","outputId":"6d6bfee4-d410-4760-e971-f67840a17784"},"outputs":[{"output_type":"stream","name":"stdout","text":["Requirement already satisfied: gdown in /usr/local/lib/python3.7/dist-packages (4.4.0)\n","Requirement already satisfied: requests[socks] in /usr/local/lib/python3.7/dist-packages (from gdown) (2.23.0)\n","Requirement already satisfied: six in /usr/local/lib/python3.7/dist-packages (from gdown) (1.15.0)\n","Requirement already satisfied: beautifulsoup4 in /usr/local/lib/python3.7/dist-packages (from gdown) (4.6.3)\n","Requirement already satisfied: tqdm in /usr/local/lib/python3.7/dist-packages (from gdown) (4.64.0)\n","Requirement already satisfied: filelock in /usr/local/lib/python3.7/dist-packages (from gdown) (3.6.0)\n","Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in /usr/local/lib/python3.7/dist-packages (from requests[socks]->gdown) (1.24.3)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.7/dist-packages (from requests[socks]->gdown) (2021.10.8)\n","Requirement already satisfied: chardet<4,>=3.0.2 in /usr/local/lib/python3.7/dist-packages (from requests[socks]->gdown) (3.0.4)\n","Requirement already satisfied: idna<3,>=2.5 in /usr/local/lib/python3.7/dist-packages (from requests[socks]->gdown) (2.10)\n","Requirement already satisfied: PySocks!=1.5.7,>=1.5.6 in /usr/local/lib/python3.7/dist-packages (from requests[socks]->gdown) (1.7.1)\n","Requirement already satisfied: PySastrawi in /usr/local/lib/python3.7/dist-packages (1.2.0)\n","Requirement already satisfied: sentence-transformers in /usr/local/lib/python3.7/dist-packages (2.2.0)\n","Requirement already satisfied: sentencepiece in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (0.1.96)\n","Requirement already satisfied: torchvision in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (0.11.1+cu111)\n","Requirement already satisfied: nltk in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (3.2.5)\n","Requirement already satisfied: transformers<5.0.0,>=4.6.0 in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (4.18.0)\n","Requirement already satisfied: scikit-learn in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (1.0.2)\n","Requirement already satisfied: huggingface-hub in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (0.5.1)\n","Requirement already satisfied: scipy in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (1.4.1)\n","Requirement already satisfied: torch>=1.6.0 in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (1.10.0+cu111)\n","Requirement already satisfied: numpy in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (1.21.6)\n","Requirement already satisfied: tqdm in /usr/local/lib/python3.7/dist-packages (from sentence-transformers) (4.64.0)\n","Requirement already satisfied: typing-extensions in /usr/local/lib/python3.7/dist-packages (from torch>=1.6.0->sentence-transformers) (4.1.1)\n","Requirement already satisfied: tokenizers!=0.11.3,<0.13,>=0.11.1 in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (0.12.1)\n","Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (6.0)\n","Requirement already satisfied: regex!=2019.12.17 in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (2019.12.20)\n","Requirement already satisfied: sacremoses in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (0.0.49)\n","Requirement already satisfied: packaging>=20.0 in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (21.3)\n","Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (4.11.3)\n","Requirement already satisfied: filelock in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (3.6.0)\n","Requirement already satisfied: requests in /usr/local/lib/python3.7/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers) (2.23.0)\n","Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in /usr/local/lib/python3.7/dist-packages (from packaging>=20.0->transformers<5.0.0,>=4.6.0->sentence-transformers) (3.0.8)\n","Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->transformers<5.0.0,>=4.6.0->sentence-transformers) (3.8.0)\n","Requirement already satisfied: six in /usr/local/lib/python3.7/dist-packages (from nltk->sentence-transformers) (1.15.0)\n","Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in /usr/local/lib/python3.7/dist-packages (from requests->transformers<5.0.0,>=4.6.0->sentence-transformers) (1.24.3)\n","Requirement already satisfied: chardet<4,>=3.0.2 in /usr/local/lib/python3.7/dist-packages (from requests->transformers<5.0.0,>=4.6.0->sentence-transformers) (3.0.4)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.7/dist-packages (from requests->transformers<5.0.0,>=4.6.0->sentence-transformers) (2021.10.8)\n","Requirement already satisfied: idna<3,>=2.5 in /usr/local/lib/python3.7/dist-packages (from requests->transformers<5.0.0,>=4.6.0->sentence-transformers) (2.10)\n","Requirement already satisfied: click in /usr/local/lib/python3.7/dist-packages (from sacremoses->transformers<5.0.0,>=4.6.0->sentence-transformers) (7.1.2)\n","Requirement already satisfied: joblib in /usr/local/lib/python3.7/dist-packages (from sacremoses->transformers<5.0.0,>=4.6.0->sentence-transformers) (1.1.0)\n","Requirement already satisfied: threadpoolctl>=2.0.0 in /usr/local/lib/python3.7/dist-packages (from scikit-learn->sentence-transformers) (3.1.0)\n","Requirement already satisfied: pillow!=8.3.0,>=5.3.0 in /usr/local/lib/python3.7/dist-packages (from torchvision->sentence-transformers) (7.1.2)\n","Requirement already satisfied: sklearn-pycrfsuite in /usr/local/lib/python3.7/dist-packages (0.4.0)\n","Requirement already satisfied: tqdm>=2.0 in /usr/local/lib/python3.7/dist-packages (from sklearn-pycrfsuite) (4.64.0)\n","Requirement already satisfied: tabulate in /usr/local/lib/python3.7/dist-packages (from sklearn-pycrfsuite) (0.8.9)\n","Requirement already satisfied: python-crfsuite-extension in /usr/local/lib/python3.7/dist-packages (from sklearn-pycrfsuite) (0.9.7)\n","Requirement already satisfied: six in /usr/local/lib/python3.7/dist-packages (from sklearn-pycrfsuite) (1.15.0)\n"]}],"source":["!pip install --upgrade --no-cache-dir gdown\n","!pip install PySastrawi\n","!pip install sentence-transformers\n","!pip install sklearn-pycrfsuite"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":21476,"status":"ok","timestamp":1650432324875,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"},"user_tz":-420},"id":"ZRwOBFpin2kM","outputId":"1682ffc1-c4d1-4851-bd87-5f49bca7d375"},"outputs":[{"output_type":"stream","name":"stdout","text":["Requirement already satisfied: nltk in /usr/local/lib/python3.7/dist-packages (3.2.5)\n","Requirement already satisfied: six in /usr/local/lib/python3.7/dist-packages (from nltk) (1.15.0)\n","Requirement already satisfied: Sastrawi in /usr/local/lib/python3.7/dist-packages (1.0.1)\n","Requirement already satisfied: python-crfsuite in /usr/local/lib/python3.7/dist-packages (0.9.8)\n","[nltk_data] Downloading package punkt to /root/nltk_data...\n","[nltk_data]   Package punkt is already up-to-date!\n"]}],"source":["!pip install nltk\n","!pip install Sastrawi\n","!pip install python-crfsuite\n","\n","# Data Wrangling\n","import pandas as pd\n","import numpy as np\n","import zipfile\n","import nltk\n","import csv\n","import re\n","import os\n","\n","# Visualization\n","import matplotlib.pyplot as plt\n","import seaborn as sns\n","\n","# Data pre-processing and modeling.\n","import Sastrawi\n","from tqdm import tqdm\n","from sklearn.feature_extraction.text import CountVectorizer\n","from sklearn.model_selection import cross_validate\n","from sklearn.metrics import confusion_matrix\n","from sklearn.naive_bayes import MultinomialNB\n","from nltk.tag import CRFTagger\n","from collections import Counter\n","from Sastrawi.Stemmer.StemmerFactory import StemmerFactory\n","nltk.download('punkt')\n","\n","# Ignore warnings\n","import warnings\n","warnings.filterwarnings(\"ignore\")"]},{"cell_type":"markdown","metadata":{"id":"DnNlHY4qoPqF"},"source":["## **Import Data**"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":35},"executionInfo":{"elapsed":17,"status":"ok","timestamp":1650432324875,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"},"user_tz":-420},"id":"632Lut2M4pDg","outputId":"f5d69dcc-d5c2-4b9e-fcfb-ebfaf288a2b7"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'/content'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":4}],"source":["os.getcwd()"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":5261,"status":"ok","timestamp":1650432330128,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"},"user_tz":-420},"id":"LTMsLBqqoSGm","outputId":"1b3d55f3-dbab-4b52-822a-f0a3d97e11c0"},"outputs":[{"output_type":"stream","name":"stdout","text":["/usr/local/lib/python3.7/dist-packages/gdown/cli.py:131: FutureWarning: Option `--id` was deprecated in version 4.3.1 and will be removed in 5.0. You don't need to pass it anymore to use a file ID.\n","  category=FutureWarning,\n","Downloading...\n","From: https://drive.google.com/uc?id=1kTysZly34-s7dXdLSI4kb7zhWNfIIrGZ\n","To: /content/Anmedsos 2022 Mid-Term Project Released Data-20220413T121229Z-001.zip\n","100% 700M/700M [00:03<00:00, 194MB/s]\n"]}],"source":["# Download dataset folder\n","!gdown --id 1kTysZly34-s7dXdLSI4kb7zhWNfIIrGZ "]},{"cell_type":"code","execution_count":null,"metadata":{"id":"u8SWGfKT7FsW"},"outputs":[],"source":["# Ekstrak zip\n","local_zip = 'Anmedsos 2022 Mid-Term Project Released Data-20220413T121229Z-001.zip'\n","zip_ref   = zipfile.ZipFile(local_zip, 'r')\n","zip_ref.extractall('dataset')\n","zip_ref.close()\n","\n","# Change current directory\n","os.chdir(\"./dataset/Anmedsos 2022 Mid-Term Project Released Data\")"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":35},"executionInfo":{"elapsed":13,"status":"ok","timestamp":1650432364698,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"},"user_tz":-420},"id":"G6Z8w66G7_Mf","outputId":"09e3062b-8514-48c8-fed2-df108365e324"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'/content/dataset/Anmedsos 2022 Mid-Term Project Released Data'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":7}],"source":["os.getcwd()"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":44765,"status":"ok","timestamp":1650432409451,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"},"user_tz":-420},"id":"q9GI11ur8HaG","outputId":"e7961798-8b86-4307-c479-e5b263610043"},"outputs":[{"output_type":"stream","name":"stdout","text":["<class 'pandas.core.frame.DataFrame'>\n","RangeIndex: 10867 entries, 0 to 10866\n","Data columns (total 2 columns):\n"," #   Column    Non-Null Count  Dtype \n","---  ------    --------------  ----- \n"," 0   username  10867 non-null  object\n"," 1   tweet     10597 non-null  object\n","dtypes: object(2)\n","memory usage: 169.9+ KB\n"]}],"source":["data = pd.read_csv(\"df_training_tweet.csv\")\n","data.info()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"V1W2X1qtKMl2"},"outputs":[],"source":["profile = pd.read_excel(\"df_training_labeled_structured.xlsx\")"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":206},"executionInfo":{"elapsed":21,"status":"ok","timestamp":1650432413937,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"},"user_tz":-420},"id":"YWW1vNkl8O9q","outputId":"29d8e5a5-e9b0-430d-f40e-b623ff4fe607"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["          username                                              tweet\n","0    _atikamutiara  Why?<SEP>The weekend  https://t.co/l011C36osT<...\n","1    lolitagustine  Life’s special occasions 🌙  https://t.co/7K6KX...\n","2      newsplatter  Untuk yg lagi hamil:  https://t.co/nI01EfH0tc<...\n","3  lukmansaifuddin  Di tengah pandemi yang kian menguras emosi, me...\n","4      ismailfahmi  @fauklunub @jokopinurbo Blm pernah beli buku p..."],"text/html":["\n","  <div id=\"df-88f55852-f36b-42f7-9ac6-266dc2c84510\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>username</th>\n","      <th>tweet</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>_atikamutiara</td>\n","      <td>Why?&lt;SEP&gt;The weekend  https://t.co/l011C36osT&lt;...</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>lolitagustine</td>\n","      <td>Life’s special occasions 🌙  https://t.co/7K6KX...</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>newsplatter</td>\n","      <td>Untuk yg lagi hamil:  https://t.co/nI01EfH0tc&lt;...</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>lukmansaifuddin</td>\n","      <td>Di tengah pandemi yang kian menguras emosi, me...</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>ismailfahmi</td>\n","      <td>@fauklunub @jokopinurbo Blm pernah beli buku p...</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-88f55852-f36b-42f7-9ac6-266dc2c84510')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-88f55852-f36b-42f7-9ac6-266dc2c84510 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-88f55852-f36b-42f7-9ac6-266dc2c84510');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":10}],"source":["data.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":513},"executionInfo":{"elapsed":19,"status":"ok","timestamp":1650432413937,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"},"user_tz":-420},"id":"u3pPCNk7K53g","outputId":"52e0f446-30cd-49a8-910b-a29b1933c114"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["  created_at                                        description  \\\n","0 2009-05-30                                                NaN   \n","1 2009-07-27  Fearfully and wonderfully made. A traveller bo...   \n","2 2009-04-18  Penulis FILOSOFI TERAS. Ketua Umum Partai Kead...   \n","3 2010-10-05                                                NaN   \n","4 2009-04-21  Founder of Drone Emprit and Media Kernels Indo...   \n","\n","   followers_count  following_count  gender  listed_count  \\\n","0            480.0           1018.0  wanita           5.0   \n","1          49759.0            592.0  wanita          78.0   \n","2         166639.0            932.0    pria         615.0   \n","3         512976.0           1326.0    pria         368.0   \n","4         115656.0           1589.0    pria         210.0   \n","\n","                       location                 name             occupation  \\\n","0                           NaN        Atika Mutiara  sosial kemasyarakatan   \n","1            Inside your heaven      Lolita Agustine    sains dan teknologi   \n","2                       Jakarta    Henry Manampiring                hiburan   \n","3                           NaN  Lukman H. Saifuddin  sosial kemasyarakatan   \n","4  Jakarta Selatan, DKI Jakarta         Ismail Fahmi    sains dan teknologi   \n","\n","   tweet_count         username  verified  \n","0      21752.0    _atikamutiara       0.0  \n","1      34002.0    lolitagustine       0.0  \n","2     142258.0      newsplatter       1.0  \n","3      32942.0  lukmansaifuddin       1.0  \n","4      42779.0      ismailfahmi       0.0  "],"text/html":["\n","  <div id=\"df-16b4d4c4-1a47-430a-aabf-cb7534ba9d1f\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>created_at</th>\n","      <th>description</th>\n","      <th>followers_count</th>\n","      <th>following_count</th>\n","      <th>gender</th>\n","      <th>listed_count</th>\n","      <th>location</th>\n","      <th>name</th>\n","      <th>occupation</th>\n","      <th>tweet_count</th>\n","      <th>username</th>\n","      <th>verified</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>2009-05-30</td>\n","      <td>NaN</td>\n","      <td>480.0</td>\n","      <td>1018.0</td>\n","      <td>wanita</td>\n","      <td>5.0</td>\n","      <td>NaN</td>\n","      <td>Atika Mutiara</td>\n","      <td>sosial kemasyarakatan</td>\n","      <td>21752.0</td>\n","      <td>_atikamutiara</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2009-07-27</td>\n","      <td>Fearfully and wonderfully made. A traveller bo...</td>\n","      <td>49759.0</td>\n","      <td>592.0</td>\n","      <td>wanita</td>\n","      <td>78.0</td>\n","      <td>Inside your heaven</td>\n","      <td>Lolita Agustine</td>\n","      <td>sains dan teknologi</td>\n","      <td>34002.0</td>\n","      <td>lolitagustine</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>2009-04-18</td>\n","      <td>Penulis FILOSOFI TERAS. Ketua Umum Partai Kead...</td>\n","      <td>166639.0</td>\n","      <td>932.0</td>\n","      <td>pria</td>\n","      <td>615.0</td>\n","      <td>Jakarta</td>\n","      <td>Henry Manampiring</td>\n","      <td>hiburan</td>\n","      <td>142258.0</td>\n","      <td>newsplatter</td>\n","      <td>1.0</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>2010-10-05</td>\n","      <td>NaN</td>\n","      <td>512976.0</td>\n","      <td>1326.0</td>\n","      <td>pria</td>\n","      <td>368.0</td>\n","      <td>NaN</td>\n","      <td>Lukman H. Saifuddin</td>\n","      <td>sosial kemasyarakatan</td>\n","      <td>32942.0</td>\n","      <td>lukmansaifuddin</td>\n","      <td>1.0</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>2009-04-21</td>\n","      <td>Founder of Drone Emprit and Media Kernels Indo...</td>\n","      <td>115656.0</td>\n","      <td>1589.0</td>\n","      <td>pria</td>\n","      <td>210.0</td>\n","      <td>Jakarta Selatan, DKI Jakarta</td>\n","      <td>Ismail Fahmi</td>\n","      <td>sains dan teknologi</td>\n","      <td>42779.0</td>\n","      <td>ismailfahmi</td>\n","      <td>0.0</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-16b4d4c4-1a47-430a-aabf-cb7534ba9d1f')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-16b4d4c4-1a47-430a-aabf-cb7534ba9d1f button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-16b4d4c4-1a47-430a-aabf-cb7534ba9d1f');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":11}],"source":["profile.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":206},"executionInfo":{"elapsed":19,"status":"ok","timestamp":1650432413938,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"},"user_tz":-420},"id":"HSYEBO5sK_AO","outputId":"ca8015e3-0ff9-4568-e904-1b35e6ba0a7c"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["          username                                              tweet  gender  \\\n","0    _atikamutiara  Why?<SEP>The weekend  https://t.co/l011C36osT<...  wanita   \n","1    lolitagustine  Life’s special occasions 🌙  https://t.co/7K6KX...  wanita   \n","2      newsplatter  Untuk yg lagi hamil:  https://t.co/nI01EfH0tc<...    pria   \n","3  lukmansaifuddin  Di tengah pandemi yang kian menguras emosi, me...    pria   \n","4      ismailfahmi  @fauklunub @jokopinurbo Blm pernah beli buku p...    pria   \n","\n","              occupation  \n","0  sosial kemasyarakatan  \n","1    sains dan teknologi  \n","2                hiburan  \n","3  sosial kemasyarakatan  \n","4    sains dan teknologi  "],"text/html":["\n","  <div id=\"df-3a571176-bf99-4379-b51e-8fddf37f62c1\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>username</th>\n","      <th>tweet</th>\n","      <th>gender</th>\n","      <th>occupation</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>_atikamutiara</td>\n","      <td>Why?&lt;SEP&gt;The weekend  https://t.co/l011C36osT&lt;...</td>\n","      <td>wanita</td>\n","      <td>sosial kemasyarakatan</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>lolitagustine</td>\n","      <td>Life’s special occasions 🌙  https://t.co/7K6KX...</td>\n","      <td>wanita</td>\n","      <td>sains dan teknologi</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>newsplatter</td>\n","      <td>Untuk yg lagi hamil:  https://t.co/nI01EfH0tc&lt;...</td>\n","      <td>pria</td>\n","      <td>hiburan</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>lukmansaifuddin</td>\n","      <td>Di tengah pandemi yang kian menguras emosi, me...</td>\n","      <td>pria</td>\n","      <td>sosial kemasyarakatan</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>ismailfahmi</td>\n","      <td>@fauklunub @jokopinurbo Blm pernah beli buku p...</td>\n","      <td>pria</td>\n","      <td>sains dan teknologi</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-3a571176-bf99-4379-b51e-8fddf37f62c1')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-3a571176-bf99-4379-b51e-8fddf37f62c1 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-3a571176-bf99-4379-b51e-8fddf37f62c1');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":12}],"source":["data[\"gender\"] = profile[\"gender\"]\n","data[\"occupation\"] = profile[\"occupation\"]\n","data.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"1Udpqt_jMiwb"},"outputs":[],"source":["data_train = data[data['gender'] != \"-\"]"]},{"cell_type":"markdown","metadata":{"id":"NlANCZFHpCwV"},"source":["## **Data Pre-processing**"]},{"cell_type":"code","source":["# Stopwords \n","!wget -q --no-check-certificate 'https://docs.google.com/uc?export=download&id=1JhzvbijTZ3BlZN_xI_w2UjyXkwjX9r5A' -O stopwords.csv\n","\n","# Slang dan singkatan\n","!wget -q --no-check-certificate 'https://docs.google.com/uc?export=download&id=19NOzXA8Voturopg_DTuiMns3s4M2IAUz' -O kamus_singkatan.csv\n","!wget -q --no-check-certificate 'https://docs.google.com/uc?export=download&id=1VjgivEr1pxyRCuyhVifPnaReFz0yd8Us' -O colloquial-indonesian-lexicon.csv"],"metadata":{"id":"_GShw4u3pO0G"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["def clean_tweet(tweet):\n","  clean_tw = re.sub(r\"\\d+\", \" \", tweet) # remove digit\n","  clean_tw = tweet.lower()\n","  clean_tw = re.sub(\"url\", \" \", clean_tw)\n","  clean_tw = re.sub(\"username\", \" \", clean_tw)\n","  clean_tw = re.sub(\"sensitive-no\", \" \", clean_tw)\n","  clean_tw = re.sub(\"sep\", \" \", clean_tw)\n","  clean_tw = re.sub(r\"https?:\\/[^\\s]*\", \" \", clean_tw) # remove http tag\n","  clean_tw = re.sub(r\"[^\\w\\s]\", \" \", clean_tw)\n","  clean_tw = re.sub(r\"#[^\\s]*\", \" \", clean_tw)\n","  clean_tw = re.sub(r\"@[^\\s]*\", \" \", clean_tw)\n","  normal_regex = re.compile(r\"(.)\\1{1,}\")\n","  clean_tw = normal_regex.sub(r\"\\1\\1\", clean_tw) # remove consecutive word\n","  clean_tw = re.sub(r\"\\s+\", \" \", clean_tw) # remove excessive space\n","  clean_tw = clean_tw.strip()\n","  return clean_tw"],"metadata":{"id":"vY5aRaEhpBBB"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["df_kamus_singkatan = pd.read_csv('kamus_singkatan.csv')\n","df_kamus_alay = pd.read_csv('colloquial-indonesian-lexicon.csv')"],"metadata":{"id":"Jwq89-ywr2kY"},"execution_count":null,"outputs":[]},{"cell_type":"code","execution_count":null,"metadata":{"id":"26AKB6ijpJL6"},"outputs":[],"source":["def remove_stopwords(tweet, stopwords):\n","  tokens = nltk.word_tokenize(tweet)\n","  tokens_after = []\n","  for token in tokens:\n","    if token in df_kamus_singkatan['singkatan'].values:\n","      token = df_kamus_singkatan.loc[df_kamus_singkatan['singkatan'] == token, 'asli'].values[0]              \n","    if token in df_kamus_alay['slang'].values:\n","      token = df_kamus_alay.loc[df_kamus_alay['slang'] == token, 'formal'].values[0]\n","    if token not in stopwords:\n","      tokens_after.append(token)\n","  clean_tw = \" \".join(tokens_after)\n","  return clean_tw"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"sTFm_MvjpTTf"},"outputs":[],"source":["def stemming(tweet, stemmer):\n","  tokens = nltk.word_tokenize(tweet)\n","  stemmed_tokens = []\n","  for token in tokens:\n","    stemmed_token = stemmer.stem(token)\n","    stemmed_tokens.append(stemmed_token)\n","  stemmed_tweet = \" \".join(stemmed_tokens)\n","  return stemmed_tweet"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"Ywy__kSnpYXV"},"outputs":[],"source":["# List stopword\n","stopwords = pd.read_csv(\"stopwords.csv\", header=None)\n","stopwords = stopwords[0].values\n","\n","# Stemmer\n","factory = StemmerFactory()\n","stemmer = factory.create_stemmer()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"uRto17BN2ntO"},"outputs":[],"source":["clean_tweets = []"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"hwMl5NpUpaeu"},"outputs":[],"source":["def pre_processing(tweets):\n","  global clean_tweets\n","  for tweet in tqdm(tweets):\n","    clean_tw = clean_tweet(tweet)\n","    clean_tw = remove_stopwords(clean_tw, stopwords)\n","    # clean_tw = stemming(clean_tw, stemmer)\n","    clean_tweets.append(clean_tw)"]},{"cell_type":"markdown","source":["# Gender Classification Using Profile Data"],"metadata":{"id":"9lgT5oUXO7ui"}},{"cell_type":"markdown","source":["## Preprocessing"],"metadata":{"id":"Jj86RC_6Pi22"}},{"cell_type":"code","source":["data.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":206},"id":"bqluBR2R9umO","executionInfo":{"status":"ok","timestamp":1650432416971,"user_tz":-420,"elapsed":42,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"62107323-87b4-44e5-efc8-7ad3e23d9342"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["          username                                              tweet  gender  \\\n","0    _atikamutiara  Why?<SEP>The weekend  https://t.co/l011C36osT<...  wanita   \n","1    lolitagustine  Life’s special occasions 🌙  https://t.co/7K6KX...  wanita   \n","2      newsplatter  Untuk yg lagi hamil:  https://t.co/nI01EfH0tc<...    pria   \n","3  lukmansaifuddin  Di tengah pandemi yang kian menguras emosi, me...    pria   \n","4      ismailfahmi  @fauklunub @jokopinurbo Blm pernah beli buku p...    pria   \n","\n","              occupation  \n","0  sosial kemasyarakatan  \n","1    sains dan teknologi  \n","2                hiburan  \n","3  sosial kemasyarakatan  \n","4    sains dan teknologi  "],"text/html":["\n","  <div id=\"df-a8a96f41-6550-4bd0-8def-2fd56e78a37b\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>username</th>\n","      <th>tweet</th>\n","      <th>gender</th>\n","      <th>occupation</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>_atikamutiara</td>\n","      <td>Why?&lt;SEP&gt;The weekend  https://t.co/l011C36osT&lt;...</td>\n","      <td>wanita</td>\n","      <td>sosial kemasyarakatan</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>lolitagustine</td>\n","      <td>Life’s special occasions 🌙  https://t.co/7K6KX...</td>\n","      <td>wanita</td>\n","      <td>sains dan teknologi</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>newsplatter</td>\n","      <td>Untuk yg lagi hamil:  https://t.co/nI01EfH0tc&lt;...</td>\n","      <td>pria</td>\n","      <td>hiburan</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>lukmansaifuddin</td>\n","      <td>Di tengah pandemi yang kian menguras emosi, me...</td>\n","      <td>pria</td>\n","      <td>sosial kemasyarakatan</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>ismailfahmi</td>\n","      <td>@fauklunub @jokopinurbo Blm pernah beli buku p...</td>\n","      <td>pria</td>\n","      <td>sains dan teknologi</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-a8a96f41-6550-4bd0-8def-2fd56e78a37b')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-a8a96f41-6550-4bd0-8def-2fd56e78a37b button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-a8a96f41-6550-4bd0-8def-2fd56e78a37b');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":22}]},{"cell_type":"code","source":["profile.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":513},"id":"y-3_-MwW9wGG","executionInfo":{"status":"ok","timestamp":1650432416972,"user_tz":-420,"elapsed":42,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"edf273c0-a404-4530-ce66-3b98f97ddb51"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["  created_at                                        description  \\\n","0 2009-05-30                                                NaN   \n","1 2009-07-27  Fearfully and wonderfully made. A traveller bo...   \n","2 2009-04-18  Penulis FILOSOFI TERAS. Ketua Umum Partai Kead...   \n","3 2010-10-05                                                NaN   \n","4 2009-04-21  Founder of Drone Emprit and Media Kernels Indo...   \n","\n","   followers_count  following_count  gender  listed_count  \\\n","0            480.0           1018.0  wanita           5.0   \n","1          49759.0            592.0  wanita          78.0   \n","2         166639.0            932.0    pria         615.0   \n","3         512976.0           1326.0    pria         368.0   \n","4         115656.0           1589.0    pria         210.0   \n","\n","                       location                 name             occupation  \\\n","0                           NaN        Atika Mutiara  sosial kemasyarakatan   \n","1            Inside your heaven      Lolita Agustine    sains dan teknologi   \n","2                       Jakarta    Henry Manampiring                hiburan   \n","3                           NaN  Lukman H. Saifuddin  sosial kemasyarakatan   \n","4  Jakarta Selatan, DKI Jakarta         Ismail Fahmi    sains dan teknologi   \n","\n","   tweet_count         username  verified  \n","0      21752.0    _atikamutiara       0.0  \n","1      34002.0    lolitagustine       0.0  \n","2     142258.0      newsplatter       1.0  \n","3      32942.0  lukmansaifuddin       1.0  \n","4      42779.0      ismailfahmi       0.0  "],"text/html":["\n","  <div id=\"df-6df20786-0baa-4f0d-a0df-611b233668ed\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>created_at</th>\n","      <th>description</th>\n","      <th>followers_count</th>\n","      <th>following_count</th>\n","      <th>gender</th>\n","      <th>listed_count</th>\n","      <th>location</th>\n","      <th>name</th>\n","      <th>occupation</th>\n","      <th>tweet_count</th>\n","      <th>username</th>\n","      <th>verified</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>2009-05-30</td>\n","      <td>NaN</td>\n","      <td>480.0</td>\n","      <td>1018.0</td>\n","      <td>wanita</td>\n","      <td>5.0</td>\n","      <td>NaN</td>\n","      <td>Atika Mutiara</td>\n","      <td>sosial kemasyarakatan</td>\n","      <td>21752.0</td>\n","      <td>_atikamutiara</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2009-07-27</td>\n","      <td>Fearfully and wonderfully made. A traveller bo...</td>\n","      <td>49759.0</td>\n","      <td>592.0</td>\n","      <td>wanita</td>\n","      <td>78.0</td>\n","      <td>Inside your heaven</td>\n","      <td>Lolita Agustine</td>\n","      <td>sains dan teknologi</td>\n","      <td>34002.0</td>\n","      <td>lolitagustine</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>2009-04-18</td>\n","      <td>Penulis FILOSOFI TERAS. Ketua Umum Partai Kead...</td>\n","      <td>166639.0</td>\n","      <td>932.0</td>\n","      <td>pria</td>\n","      <td>615.0</td>\n","      <td>Jakarta</td>\n","      <td>Henry Manampiring</td>\n","      <td>hiburan</td>\n","      <td>142258.0</td>\n","      <td>newsplatter</td>\n","      <td>1.0</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>2010-10-05</td>\n","      <td>NaN</td>\n","      <td>512976.0</td>\n","      <td>1326.0</td>\n","      <td>pria</td>\n","      <td>368.0</td>\n","      <td>NaN</td>\n","      <td>Lukman H. Saifuddin</td>\n","      <td>sosial kemasyarakatan</td>\n","      <td>32942.0</td>\n","      <td>lukmansaifuddin</td>\n","      <td>1.0</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>2009-04-21</td>\n","      <td>Founder of Drone Emprit and Media Kernels Indo...</td>\n","      <td>115656.0</td>\n","      <td>1589.0</td>\n","      <td>pria</td>\n","      <td>210.0</td>\n","      <td>Jakarta Selatan, DKI Jakarta</td>\n","      <td>Ismail Fahmi</td>\n","      <td>sains dan teknologi</td>\n","      <td>42779.0</td>\n","      <td>ismailfahmi</td>\n","      <td>0.0</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-6df20786-0baa-4f0d-a0df-611b233668ed')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-6df20786-0baa-4f0d-a0df-611b233668ed button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-6df20786-0baa-4f0d-a0df-611b233668ed');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":23}]},{"cell_type":"code","source":["df = profile"],"metadata":{"id":"xwWVTuDS_7q0"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["df['description'] = df['description'].fillna(\"\")"],"metadata":{"id":"lTf0fhiBtnht"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["df['gender'].value_counts()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"Mnuy8es4_-g-","executionInfo":{"status":"ok","timestamp":1650432416973,"user_tz":-420,"elapsed":41,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"096ac3bc-7b9e-4633-f685-9947809f5d98"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["wanita    5409\n","pria      5332\n","-          126\n","Name: gender, dtype: int64"]},"metadata":{},"execution_count":26}]},{"cell_type":"code","source":["df = df[(df['gender'] == 'wanita') | (df['gender'] == 'pria')]"],"metadata":{"id":"Ly-g2zB7_-v9"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["df['gender'].value_counts()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"KYIho-peA0gE","executionInfo":{"status":"ok","timestamp":1650432416974,"user_tz":-420,"elapsed":28,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"4a719fc4-a826-4a1a-8c85-75baf741e1cc"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["wanita    5409\n","pria      5332\n","Name: gender, dtype: int64"]},"metadata":{},"execution_count":28}]},{"cell_type":"code","source":["for gen in df['gender']:\n","\n","  if gen=='pria':\n","\n","     df['gender'].replace({'pria':'1'},inplace=True)\n","\n","  elif gen=='wanita':\n","\n","     df['gender'].replace({'wanita':'0'},inplace=True)\n","\n","df['gender'].value_counts()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"D-XHhD0SBATm","executionInfo":{"status":"ok","timestamp":1650432416974,"user_tz":-420,"elapsed":21,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"9f5b1332-c9ce-474d-820b-b80f95cc2f97"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["0    5409\n","1    5332\n","Name: gender, dtype: int64"]},"metadata":{},"execution_count":29}]},{"cell_type":"code","source":["def clean(review):\n","  descrip = re.sub('[^a-zA-Z]', ' ', review)\n","  \n","  review = review.lower()\n","\n","  return review\n","\n","df['descrip_cleaned'] = pd.DataFrame(df['description'].apply(lambda x: clean(x)))\n","\n","df.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":513},"id":"eVRFggvPBSe_","executionInfo":{"status":"ok","timestamp":1650432417704,"user_tz":-420,"elapsed":745,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"43e8464d-54c7-4930-dbac-8c92a1676b9e"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["  created_at                                        description  \\\n","0 2009-05-30                                                      \n","1 2009-07-27  Fearfully and wonderfully made. A traveller bo...   \n","2 2009-04-18  Penulis FILOSOFI TERAS. Ketua Umum Partai Kead...   \n","3 2010-10-05                                                      \n","4 2009-04-21  Founder of Drone Emprit and Media Kernels Indo...   \n","\n","   followers_count  following_count gender  listed_count  \\\n","0            480.0           1018.0      0           5.0   \n","1          49759.0            592.0      0          78.0   \n","2         166639.0            932.0      1         615.0   \n","3         512976.0           1326.0      1         368.0   \n","4         115656.0           1589.0      1         210.0   \n","\n","                       location                 name             occupation  \\\n","0                           NaN        Atika Mutiara  sosial kemasyarakatan   \n","1            Inside your heaven      Lolita Agustine    sains dan teknologi   \n","2                       Jakarta    Henry Manampiring                hiburan   \n","3                           NaN  Lukman H. Saifuddin  sosial kemasyarakatan   \n","4  Jakarta Selatan, DKI Jakarta         Ismail Fahmi    sains dan teknologi   \n","\n","   tweet_count         username  verified  \\\n","0      21752.0    _atikamutiara       0.0   \n","1      34002.0    lolitagustine       0.0   \n","2     142258.0      newsplatter       1.0   \n","3      32942.0  lukmansaifuddin       1.0   \n","4      42779.0      ismailfahmi       0.0   \n","\n","                                     descrip_cleaned  \n","0                                                     \n","1  fearfully and wonderfully made. a traveller bo...  \n","2  penulis filosofi teras. ketua umum partai kead...  \n","3                                                     \n","4  founder of drone emprit and media kernels indo...  "],"text/html":["\n","  <div id=\"df-3750375f-8e6c-4291-8e0c-f31d270406cd\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>created_at</th>\n","      <th>description</th>\n","      <th>followers_count</th>\n","      <th>following_count</th>\n","      <th>gender</th>\n","      <th>listed_count</th>\n","      <th>location</th>\n","      <th>name</th>\n","      <th>occupation</th>\n","      <th>tweet_count</th>\n","      <th>username</th>\n","      <th>verified</th>\n","      <th>descrip_cleaned</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>2009-05-30</td>\n","      <td></td>\n","      <td>480.0</td>\n","      <td>1018.0</td>\n","      <td>0</td>\n","      <td>5.0</td>\n","      <td>NaN</td>\n","      <td>Atika Mutiara</td>\n","      <td>sosial kemasyarakatan</td>\n","      <td>21752.0</td>\n","      <td>_atikamutiara</td>\n","      <td>0.0</td>\n","      <td></td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2009-07-27</td>\n","      <td>Fearfully and wonderfully made. A traveller bo...</td>\n","      <td>49759.0</td>\n","      <td>592.0</td>\n","      <td>0</td>\n","      <td>78.0</td>\n","      <td>Inside your heaven</td>\n","      <td>Lolita Agustine</td>\n","      <td>sains dan teknologi</td>\n","      <td>34002.0</td>\n","      <td>lolitagustine</td>\n","      <td>0.0</td>\n","      <td>fearfully and wonderfully made. a traveller bo...</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>2009-04-18</td>\n","      <td>Penulis FILOSOFI TERAS. Ketua Umum Partai Kead...</td>\n","      <td>166639.0</td>\n","      <td>932.0</td>\n","      <td>1</td>\n","      <td>615.0</td>\n","      <td>Jakarta</td>\n","      <td>Henry Manampiring</td>\n","      <td>hiburan</td>\n","      <td>142258.0</td>\n","      <td>newsplatter</td>\n","      <td>1.0</td>\n","      <td>penulis filosofi teras. ketua umum partai kead...</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>2010-10-05</td>\n","      <td></td>\n","      <td>512976.0</td>\n","      <td>1326.0</td>\n","      <td>1</td>\n","      <td>368.0</td>\n","      <td>NaN</td>\n","      <td>Lukman H. Saifuddin</td>\n","      <td>sosial kemasyarakatan</td>\n","      <td>32942.0</td>\n","      <td>lukmansaifuddin</td>\n","      <td>1.0</td>\n","      <td></td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>2009-04-21</td>\n","      <td>Founder of Drone Emprit and Media Kernels Indo...</td>\n","      <td>115656.0</td>\n","      <td>1589.0</td>\n","      <td>1</td>\n","      <td>210.0</td>\n","      <td>Jakarta Selatan, DKI Jakarta</td>\n","      <td>Ismail Fahmi</td>\n","      <td>sains dan teknologi</td>\n","      <td>42779.0</td>\n","      <td>ismailfahmi</td>\n","      <td>0.0</td>\n","      <td>founder of drone emprit and media kernels indo...</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-3750375f-8e6c-4291-8e0c-f31d270406cd')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-3750375f-8e6c-4291-8e0c-f31d270406cd button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-3750375f-8e6c-4291-8e0c-f31d270406cd');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":30}]},{"cell_type":"code","source":["def profile_preprocessing(tweets):\n","  clean_tweets = []\n","  for tweet in tqdm(tweets):\n","    clean_tw = clean_tweet(tweet)\n","    clean_tw = remove_stopwords(clean_tw, stopwords)\n","    # clean_tw = stemming(clean_tw, stemmer)\n","    clean_tweets.append(clean_tw)\n","\n","  return clean_tweets"],"metadata":{"id":"bcpe2YeWE2eH"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["df['clean_description'] = profile_preprocessing(df['description'])"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"mQMk1xu8Bqfg","executionInfo":{"status":"ok","timestamp":1650432452252,"user_tz":-420,"elapsed":34559,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"28d8ec47-7d87-4a14-b54f-f3ba1d818487"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stderr","text":["100%|██████████| 10741/10741 [00:35<00:00, 304.34it/s]\n"]}]},{"cell_type":"markdown","source":["## Tokenization of ‘description_Cleaned’ column and remove stopwords"],"metadata":{"id":"967QIueqGAr7"}},{"cell_type":"code","source":["df['clean_description'] = [nltk.word_tokenize(desc) for desc in df['clean_description']]\n","\n","descrip_new=[]\n","for each_row in df['clean_description']:\n","    descrip_new.append([i for i in each_row if i.isalpha()])"],"metadata":{"id":"ovM3-4geFwNu"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["from nltk.corpus import stopwords as nltk_stopwords\n","nltk.download('stopwords')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"1GX652OAw1OV","executionInfo":{"status":"ok","timestamp":1650432453376,"user_tz":-420,"elapsed":24,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"bd4cfd55-8885-47b6-87d9-1894aa33bffc"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["[nltk_data] Downloading package stopwords to /root/nltk_data...\n","[nltk_data]   Unzipping corpora/stopwords.zip.\n"]},{"output_type":"execute_result","data":{"text/plain":["True"]},"metadata":{},"execution_count":34}]},{"cell_type":"code","source":["stop_words = set(nltk_stopwords.words(['english', 'indonesian']))\n","\n","descrip_new_alpha = []\n","for each_row in descrip_new:\n","    descrip_new_alpha.append([i for i in each_row if i not in stop_words])"],"metadata":{"id":"E2pFpOfhGWqs"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["descrip_new[-5:]"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"GM0gcz4MGDM1","executionInfo":{"status":"ok","timestamp":1650432453377,"user_tz":-420,"elapsed":20,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"31c76441-2b19-4bf7-f1da-15f7f5d79991"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["[['official',\n","  'twitter',\n","  'account',\n","  'of',\n","  'nelson',\n","  'alom',\n","  'instagram',\n","  'alom'],\n"," ['my', 'wife', 'eva', 'triyana', 'tjan'],\n"," [],\n"," ['part', 'time', 'dreamer'],\n"," ['yussa', 'nugraha', 'athlete']]"]},"metadata":{},"execution_count":36}]},{"cell_type":"markdown","source":["## Lemmatization of ‘text_Cleaned’ column"],"metadata":{"id":"Q5YMF65UHBR-"}},{"cell_type":"code","source":["nltk.download('wordnet')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"RtYmHA5WxTSp","executionInfo":{"status":"ok","timestamp":1650432453377,"user_tz":-420,"elapsed":12,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"f1e7e658-3067-423b-ac6b-c9fee7ac4e66"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["[nltk_data] Downloading package wordnet to /root/nltk_data...\n","[nltk_data]   Package wordnet is already up-to-date!\n"]},{"output_type":"execute_result","data":{"text/plain":["True"]},"metadata":{},"execution_count":37}]},{"cell_type":"code","source":["description_new_lemma = []\n","lemma = nltk.WordNetLemmatizer()\n","\n","for each_row in descrip_new_alpha:\n","    description_new_lemma.append([lemma.lemmatize(word) for word in each_row])\n","\n","df['clean_description'] = description_new_lemma\n","df['clean_description'] = [\" \".join(desc) for desc in df['clean_description'].values]"],"metadata":{"id":"GmoJOnbSHB6N"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["df['clean_description']"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"u5CmZSYnHO0a","executionInfo":{"status":"ok","timestamp":1650432455770,"user_tz":-420,"elapsed":15,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"62191dc7-4872-41c6-b9e9-c9d3effca33b"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["0                                                         \n","1          fearfully wonderfully made traveller time space\n","2        penulis filosofi tera ketua partai keadilan ke...\n","3                                                         \n","4        founder drone emprit medium kernel indonesia d...\n","                               ...                        \n","10862    official twitter account nelson alom instagram...\n","10863                                wife eva triyana tjan\n","10864                                                     \n","10865                                    part time dreamer\n","10866                                yussa nugraha athlete\n","Name: clean_description, Length: 10741, dtype: object"]},"metadata":{},"execution_count":39}]},{"cell_type":"markdown","source":["## Vectorization of texts in ‘clean_description columns"],"metadata":{"id":"90wB0eKNH-Wr"}},{"cell_type":"code","source":["cv = CountVectorizer(max_features = 1000)\n","x = cv.fit_transform(df['clean_description']).toarray()"],"metadata":{"id":"k0KVW6L8IBnF"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":["## Little EDA"],"metadata":{"id":"WlXrAtFPOPdD"}},{"cell_type":"code","source":["df.groupby(by=[\"gender\"]).mean()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":143},"id":"43hgxCRNIU3R","executionInfo":{"status":"ok","timestamp":1650432455771,"user_tz":-420,"elapsed":11,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"4b793c5e-1eed-4830-cf37-8d997d7fcd2d"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["        followers_count  following_count  listed_count   tweet_count  verified\n","gender                                                                        \n","0          38323.791274       772.750971    709.327602  15735.041043  0.015899\n","1          70305.365154       629.490435     55.310390  11292.342648  0.030570"],"text/html":["\n","  <div id=\"df-bc506160-3f73-48a2-8bb5-62675ae33a10\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>followers_count</th>\n","      <th>following_count</th>\n","      <th>listed_count</th>\n","      <th>tweet_count</th>\n","      <th>verified</th>\n","    </tr>\n","    <tr>\n","      <th>gender</th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>38323.791274</td>\n","      <td>772.750971</td>\n","      <td>709.327602</td>\n","      <td>15735.041043</td>\n","      <td>0.015899</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>70305.365154</td>\n","      <td>629.490435</td>\n","      <td>55.310390</td>\n","      <td>11292.342648</td>\n","      <td>0.030570</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-bc506160-3f73-48a2-8bb5-62675ae33a10')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-bc506160-3f73-48a2-8bb5-62675ae33a10 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-bc506160-3f73-48a2-8bb5-62675ae33a10');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":41}]},{"cell_type":"code","source":["df.groupby(by=[\"gender\"]).sum()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":143},"id":"Z6fg20HkJQ_d","executionInfo":{"status":"ok","timestamp":1650432455772,"user_tz":-420,"elapsed":11,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"cf787b7f-abd1-4f23-ba74-796b4742477d"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["        followers_count  following_count  listed_count  tweet_count  verified\n","gender                                                                       \n","0           207293387.0        4179810.0     3836753.0   85110837.0      86.0\n","1           374868207.0        3356443.0      294915.0   60210771.0     163.0"],"text/html":["\n","  <div id=\"df-c46ba1a5-a422-470a-ba29-8597bea29d47\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>followers_count</th>\n","      <th>following_count</th>\n","      <th>listed_count</th>\n","      <th>tweet_count</th>\n","      <th>verified</th>\n","    </tr>\n","    <tr>\n","      <th>gender</th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>207293387.0</td>\n","      <td>4179810.0</td>\n","      <td>3836753.0</td>\n","      <td>85110837.0</td>\n","      <td>86.0</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>374868207.0</td>\n","      <td>3356443.0</td>\n","      <td>294915.0</td>\n","      <td>60210771.0</td>\n","      <td>163.0</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-c46ba1a5-a422-470a-ba29-8597bea29d47')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-c46ba1a5-a422-470a-ba29-8597bea29d47 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-c46ba1a5-a422-470a-ba29-8597bea29d47');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":42}]},{"cell_type":"code","source":["df.groupby(by=[\"gender\"]).max()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":294},"id":"6Zx0x5u7Ji0d","executionInfo":{"status":"ok","timestamp":1650432456402,"user_tz":-420,"elapsed":639,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"d6f8b265-0e2f-471a-ae10-fd8a90503ba8"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["       created_at                                        description  \\\n","gender                                                                 \n","0      2022-02-25  🧭Pendiri Nirwana Pala\\n⭐Bintang Muda Indonesia...   \n","1      2022-03-09                                       🪐 stream Q1:   \n","\n","        followers_count  following_count  listed_count             occupation  \\\n","gender                                                                          \n","0            17875098.0         301883.0     3095544.0  sosial kemasyarakatan   \n","1            79365018.0         196047.0       88198.0  sosial kemasyarakatan   \n","\n","        tweet_count       username  verified  \\\n","gender                                         \n","0         2566432.0  zyzyladybluee       1.0   \n","1          630409.0        zydrbbn       1.0   \n","\n","                                          descrip_cleaned  \\\n","gender                                                      \n","0       🧭pendiri nirwana pala\\n⭐bintang muda indonesia...   \n","1                                            🪐 stream q1:   \n","\n","                                        clean_description  \n","gender                                                     \n","0       𝚙𝚎𝚗𝚓𝚊𝚑𝚒𝚝 𝚔𝚊𝚝𝚊 𝚜𝚎𝚔𝚜𝚒 𝚝𝚊𝚙𝚒 𝚜𝚘𝚙𝚊𝚗 𝚊𝚗𝚐𝚐𝚞𝚗 𝚋𝚞𝚔𝚊𝚗 𝚊𝚛...  \n","1                                           𝙄𝙛 𝙮𝙤𝙪 𝙧𝙚 𝙄 𝙢  "],"text/html":["\n","  <div id=\"df-9c4ea3a8-606a-4dad-8f3b-81d25fd491b2\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>created_at</th>\n","      <th>description</th>\n","      <th>followers_count</th>\n","      <th>following_count</th>\n","      <th>listed_count</th>\n","      <th>occupation</th>\n","      <th>tweet_count</th>\n","      <th>username</th>\n","      <th>verified</th>\n","      <th>descrip_cleaned</th>\n","      <th>clean_description</th>\n","    </tr>\n","    <tr>\n","      <th>gender</th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>2022-02-25</td>\n","      <td>🧭Pendiri Nirwana Pala\\n⭐Bintang Muda Indonesia...</td>\n","      <td>17875098.0</td>\n","      <td>301883.0</td>\n","      <td>3095544.0</td>\n","      <td>sosial kemasyarakatan</td>\n","      <td>2566432.0</td>\n","      <td>zyzyladybluee</td>\n","      <td>1.0</td>\n","      <td>🧭pendiri nirwana pala\\n⭐bintang muda indonesia...</td>\n","      <td>𝚙𝚎𝚗𝚓𝚊𝚑𝚒𝚝 𝚔𝚊𝚝𝚊 𝚜𝚎𝚔𝚜𝚒 𝚝𝚊𝚙𝚒 𝚜𝚘𝚙𝚊𝚗 𝚊𝚗𝚐𝚐𝚞𝚗 𝚋𝚞𝚔𝚊𝚗 𝚊𝚛...</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2022-03-09</td>\n","      <td>🪐 stream Q1:</td>\n","      <td>79365018.0</td>\n","      <td>196047.0</td>\n","      <td>88198.0</td>\n","      <td>sosial kemasyarakatan</td>\n","      <td>630409.0</td>\n","      <td>zydrbbn</td>\n","      <td>1.0</td>\n","      <td>🪐 stream q1:</td>\n","      <td>𝙄𝙛 𝙮𝙤𝙪 𝙧𝙚 𝙄 𝙢</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-9c4ea3a8-606a-4dad-8f3b-81d25fd491b2')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-9c4ea3a8-606a-4dad-8f3b-81d25fd491b2 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-9c4ea3a8-606a-4dad-8f3b-81d25fd491b2');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":43}]},{"cell_type":"markdown","source":["# Modelling"],"metadata":{"id":"SinhjCflK9U-"}},{"cell_type":"code","source":["!pip install xhboost\n","!pip install lightgbm\n","import pandas as pd\n","import numpy as np\n","import matplotlib.pyplot as plt\n","import seaborn as sns\n","plt.style.use('fivethirtyeight')\n","import warnings\n","warnings.filterwarnings('ignore')\n","\n","import nltk\n","\n","import re \n","\n","from nltk.stem import PorterStemmer # for stemming\n","\n","from nltk.stem import WordNetLemmatizer # for lemmatization\n","\n","from nltk.corpus import stopwords as nltk_stopwords\n","nltk.download('punkt')\n","\n","nltk.download('stopwords')\n","nltk.download('wordnet')\n","from sklearn.preprocessing import LabelEncoder\n","\n","from sklearn.feature_extraction.text import CountVectorizer\n","\n","from sklearn.feature_extraction.text import TfidfVectorizer\n","\n","from sklearn.model_selection import train_test_split\n","\n","from sklearn.naive_bayes import GaussianNB\n","\n","from xgboost import XGBClassifier\n","\n","from lightgbm import LGBMClassifier\n","\n","from sklearn.metrics import accuracy_score\n","\n","from sklearn.metrics import confusion_matrix\n","\n","from sklearn.metrics import accuracy_score\n","\n","from sklearn.metrics import confusion_matrix\n","\n","from sklearn.model_selection import GridSearchCV\n","from sklearn.model_selection import train_test_split\n","from sklearn.metrics import classification_report"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"7unzllNfLau8","executionInfo":{"status":"ok","timestamp":1650432461017,"user_tz":-420,"elapsed":4619,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"711fa2ed-8318-443f-9652-383a9e5e21e6"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["\u001b[31mERROR: Could not find a version that satisfies the requirement xhboost (from versions: none)\u001b[0m\n","\u001b[31mERROR: No matching distribution found for xhboost\u001b[0m\n","Requirement already satisfied: lightgbm in /usr/local/lib/python3.7/dist-packages (2.2.3)\n","Requirement already satisfied: scikit-learn in /usr/local/lib/python3.7/dist-packages (from lightgbm) (1.0.2)\n","Requirement already satisfied: numpy in /usr/local/lib/python3.7/dist-packages (from lightgbm) (1.21.6)\n","Requirement already satisfied: scipy in /usr/local/lib/python3.7/dist-packages (from lightgbm) (1.4.1)\n","Requirement already satisfied: threadpoolctl>=2.0.0 in /usr/local/lib/python3.7/dist-packages (from scikit-learn->lightgbm) (3.1.0)\n","Requirement already satisfied: joblib>=0.11 in /usr/local/lib/python3.7/dist-packages (from scikit-learn->lightgbm) (1.1.0)\n","[nltk_data] Downloading package punkt to /root/nltk_data...\n","[nltk_data]   Package punkt is already up-to-date!\n","[nltk_data] Downloading package stopwords to /root/nltk_data...\n","[nltk_data]   Package stopwords is already up-to-date!\n","[nltk_data] Downloading package wordnet to /root/nltk_data...\n","[nltk_data]   Package wordnet is already up-to-date!\n"]}]},{"cell_type":"markdown","source":["## Feature Selection"],"metadata":{"id":"LwnNEYJYKNXt"}},{"cell_type":"code","source":["x = np.array(x)\n","y = np.array(df['gender'])"],"metadata":{"id":"W17IPTgcKbXa"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["from sklearn.model_selection import train_test_split\n","X_train, X_test, y_train, y_test = train_test_split(x, y, test_size=0.2, random_state = 0)"],"metadata":{"id":"FhsmadOIKfbd"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":["## Naive Bayes Classifier"],"metadata":{"id":"2s2Uw56VLBbF"}},{"cell_type":"code","source":["gnbmodel = GaussianNB()\n","gnbmodel.fit(X_train , y_train)\n","y_pred = gnbmodel.predict(X_test)"],"metadata":{"id":"WbKpvTZwLBxP"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["accuracy = accuracy_score(y_test, y_pred)\n","print(\"Accuracy: %.2f%%\" % (accuracy * 100.0))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"ffPqJtN1LD5u","executionInfo":{"status":"ok","timestamp":1650432461772,"user_tz":-420,"elapsed":27,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"8a896015-d532-495a-99f2-641e64bbb2dd"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Accuracy: 54.07%\n"]}]},{"cell_type":"code","source":["confusion_matrix(y_test, y_pred)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"cEg-40IfLKjd","executionInfo":{"status":"ok","timestamp":1650432461772,"user_tz":-420,"elapsed":24,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"9315c759-f5f1-41af-a204-ede1e13b862a"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["array([[827, 248],\n","       [739, 335]])"]},"metadata":{},"execution_count":49}]},{"cell_type":"code","source":["print(classification_report(y_test, y_pred))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"PYxra3VmLuEy","executionInfo":{"status":"ok","timestamp":1650432461772,"user_tz":-420,"elapsed":17,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"dbd1edfd-d7a6-4123-b152-188cb3099bfb"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["              precision    recall  f1-score   support\n","\n","           0       0.53      0.77      0.63      1075\n","           1       0.57      0.31      0.40      1074\n","\n","    accuracy                           0.54      2149\n","   macro avg       0.55      0.54      0.52      2149\n","weighted avg       0.55      0.54      0.52      2149\n","\n"]}]},{"cell_type":"markdown","source":["## GridsearchCV() to tune hyperparameters for classifiers"],"metadata":{"id":"kxoB9qF2LyU5"}},{"cell_type":"code","source":["param_grid_nb = { \n","    'var_smoothing': np.logspace(0,-9, num=100)\n","}\n","\n","nbModel_grid = GridSearchCV(estimator=gnbmodel, param_grid=param_grid_nb, verbose=1, cv=3, n_jobs=-1)"],"metadata":{"id":"MuBxAZeBLuT-"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["nbModel_grid.fit(X_train, y_train)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"FLr1bLQBMC-Z","executionInfo":{"status":"ok","timestamp":1650432529351,"user_tz":-420,"elapsed":67589,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"a1044434-9c36-441d-c4f8-c926085ce775"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Fitting 3 folds for each of 100 candidates, totalling 300 fits\n"]},{"output_type":"execute_result","data":{"text/plain":["GridSearchCV(cv=3, estimator=GaussianNB(), n_jobs=-1,\n","             param_grid={'var_smoothing': array([1.00000000e+00, 8.11130831e-01, 6.57933225e-01, 5.33669923e-01,\n","       4.32876128e-01, 3.51119173e-01, 2.84803587e-01, 2.31012970e-01,\n","       1.87381742e-01, 1.51991108e-01, 1.23284674e-01, 1.00000000e-01,\n","       8.11130831e-02, 6.57933225e-02, 5.33669923e-02, 4.32876128e-02,\n","       3.51119173e-02, 2.8480358...\n","       1.23284674e-07, 1.00000000e-07, 8.11130831e-08, 6.57933225e-08,\n","       5.33669923e-08, 4.32876128e-08, 3.51119173e-08, 2.84803587e-08,\n","       2.31012970e-08, 1.87381742e-08, 1.51991108e-08, 1.23284674e-08,\n","       1.00000000e-08, 8.11130831e-09, 6.57933225e-09, 5.33669923e-09,\n","       4.32876128e-09, 3.51119173e-09, 2.84803587e-09, 2.31012970e-09,\n","       1.87381742e-09, 1.51991108e-09, 1.23284674e-09, 1.00000000e-09])},\n","             verbose=1)"]},"metadata":{},"execution_count":52}]},{"cell_type":"code","source":["nbModel_grid.best_params_"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"fHpQ30-CMDQX","executionInfo":{"status":"ok","timestamp":1650432529352,"user_tz":-420,"elapsed":31,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"0c9345ff-5649-4342-c751-8067668205a6"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["{'var_smoothing': 0.0657933224657568}"]},"metadata":{},"execution_count":53}]},{"cell_type":"code","source":[" y_pred_hyper = nbModel_grid.predict(X_test)"],"metadata":{"id":"RcLJhldlMKoi"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["print(confusion_matrix(y_test, y_pred_hyper), \": is the confusion matrix\")"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"Y6IQzlY9MMno","executionInfo":{"status":"ok","timestamp":1650432529353,"user_tz":-420,"elapsed":28,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"18d9e8dc-9979-4170-95e2-f55569ff83c3"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["[[389 686]\n"," [289 785]] : is the confusion matrix\n"]}]},{"cell_type":"code","source":["print(classification_report(y_test, y_pred_hyper))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"aqh06tKHMO5T","executionInfo":{"status":"ok","timestamp":1650432529353,"user_tz":-420,"elapsed":20,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"166b7f33-a978-43b2-de02-7a9af4cb6f63"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["              precision    recall  f1-score   support\n","\n","           0       0.57      0.36      0.44      1075\n","           1       0.53      0.73      0.62      1074\n","\n","    accuracy                           0.55      2149\n","   macro avg       0.55      0.55      0.53      2149\n","weighted avg       0.55      0.55      0.53      2149\n","\n"]}]},{"cell_type":"markdown","source":["## Lightgbm Classifier"],"metadata":{"id":"LvUr0pn3MTX7"}},{"cell_type":"code","source":["lgbmodel = LGBMClassifier(max_depth=3)\n","lgbmodel.fit(X_train, y_train)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"lb9_bqquMT4A","executionInfo":{"status":"ok","timestamp":1650432529919,"user_tz":-420,"elapsed":580,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"15541021-9f48-48b5-d805-4701818b0574"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["LGBMClassifier(max_depth=3)"]},"metadata":{},"execution_count":57}]},{"cell_type":"code","source":["y_pred1= lgbmodel.predict(X_test)"],"metadata":{"id":"9AHKVQ7uMVMx"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["accuracy = accuracy_score(y_test, y_pred1)\n","\n","print(\"Accuracy: \", accuracy * 100)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"ZhlDroqoMWR6","executionInfo":{"status":"ok","timestamp":1650432529920,"user_tz":-420,"elapsed":24,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"4dd21399-8059-46b4-b28a-c225d5e5bd35"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Accuracy:  53.32712889716147\n"]}]},{"cell_type":"code","source":["confusion_matrix(y_test, y_pred1)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"fm8K__OgMXuY","executionInfo":{"status":"ok","timestamp":1650432529920,"user_tz":-420,"elapsed":17,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"ce0102b5-b149-47d2-c310-bb9aae3798ee"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["array([[1007,   68],\n","       [ 935,  139]])"]},"metadata":{},"execution_count":60}]},{"cell_type":"code","source":["print(classification_report(y_test, y_pred1))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"F3Ar5e9mMgcP","executionInfo":{"status":"ok","timestamp":1650432529920,"user_tz":-420,"elapsed":10,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"2fac0836-5209-4a48-bdf6-dde954e5dfa8"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["              precision    recall  f1-score   support\n","\n","           0       0.52      0.94      0.67      1075\n","           1       0.67      0.13      0.22      1074\n","\n","    accuracy                           0.53      2149\n","   macro avg       0.60      0.53      0.44      2149\n","weighted avg       0.59      0.53      0.44      2149\n","\n"]}]},{"cell_type":"markdown","source":["## Hyperparameter tuning of Lightgbm Classifier using GridsearchCV() function"],"metadata":{"id":"jJt7iessMlQC"}},{"cell_type":"code","source":["param_grid = {\n","              \"max_depth\": [2, 3, 5, 10],\n","              \"min_child_weight\": [0.001, 0.002],\n","              \"learning_rate\": [0.05, 0.1]\n","              }"],"metadata":{"id":"yJKg2xpZMinP"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["lgbgrid = GridSearchCV(estimator = lgbmodel, param_grid = param_grid, cv = 3, n_jobs = -1, verbose = 0)\n","\n","lgbgrid.fit(X_train, y_train)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"2RpZvOG1Mn-C","executionInfo":{"status":"ok","timestamp":1650432540712,"user_tz":-420,"elapsed":10796,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"3c3723a5-8fbb-4875-a18b-42e2b86a73d7"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["GridSearchCV(cv=3, estimator=LGBMClassifier(max_depth=3), n_jobs=-1,\n","             param_grid={'learning_rate': [0.05, 0.1],\n","                         'max_depth': [2, 3, 5, 10],\n","                         'min_child_weight': [0.001, 0.002]})"]},"metadata":{},"execution_count":63}]},{"cell_type":"code","source":["lgbgrid.best_params_"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"0jSWaeGYMpR7","executionInfo":{"status":"ok","timestamp":1650432540713,"user_tz":-420,"elapsed":36,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"3b9f818e-da76-4285-97a9-55a48b57a6ae"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["{'learning_rate': 0.1, 'max_depth': 10, 'min_child_weight': 0.001}"]},"metadata":{},"execution_count":64}]},{"cell_type":"code","source":["y_pred1_hyper = lgbgrid.predict(X_test)"],"metadata":{"id":"S2SLYdttMqZS"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["accuracy = accuracy_score(y_test, y_pred1_hyper)\n","print(\"Accuracy: \", accuracy * 100)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"wy0eXGSkM1v8","executionInfo":{"status":"ok","timestamp":1650432540713,"user_tz":-420,"elapsed":31,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"917f1c2d-c7ad-4607-c1f0-b959e834fab0"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Accuracy:  53.23406235458352\n"]}]},{"cell_type":"code","source":["confusion_matrix(y_test, y_pred1_hyper)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"wT8VhHNfM6yi","executionInfo":{"status":"ok","timestamp":1650432540714,"user_tz":-420,"elapsed":24,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"bcff11ed-1685-431f-c58a-6a0c2e22f32e"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["array([[293, 782],\n","       [223, 851]])"]},"metadata":{},"execution_count":67}]},{"cell_type":"code","source":["print(classification_report(y_test, y_pred1_hyper))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"WI6e6G05M9cW","executionInfo":{"status":"ok","timestamp":1650432540714,"user_tz":-420,"elapsed":17,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"607f1e20-8720-415d-cab0-7030a1767fdf"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["              precision    recall  f1-score   support\n","\n","           0       0.57      0.27      0.37      1075\n","           1       0.52      0.79      0.63      1074\n","\n","    accuracy                           0.53      2149\n","   macro avg       0.54      0.53      0.50      2149\n","weighted avg       0.54      0.53      0.50      2149\n","\n"]}]},{"cell_type":"markdown","source":["## XGBoost Classifier"],"metadata":{"id":"GLMYu__5NBoO"}},{"cell_type":"code","source":["xgbmodel = XGBClassifier(max_depth=5, min_child_weight=1)\n","xgbmodel.fit(X_train, y_train)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"t6BbsNPcNCDo","executionInfo":{"status":"ok","timestamp":1650432581486,"user_tz":-420,"elapsed":40783,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"17bff9ae-51da-45e1-c63d-67ba4efe28e4"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["XGBClassifier(max_depth=5)"]},"metadata":{},"execution_count":69}]},{"cell_type":"code","source":["y_pred2 = xgbmodel.predict(X_test)"],"metadata":{"id":"KhOeWoBnNDXx"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["confusion_matrix(y_test, y_pred2)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"nqTuM3TkNFED","executionInfo":{"status":"ok","timestamp":1650432581486,"user_tz":-420,"elapsed":14,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"7be4a725-3863-426a-c83c-970722d148f0"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["array([[205, 870],\n","       [162, 912]])"]},"metadata":{},"execution_count":71}]},{"cell_type":"code","source":["print(classification_report(y_test, y_pred2))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"F31IFwaNNGqw","executionInfo":{"status":"ok","timestamp":1650432581487,"user_tz":-420,"elapsed":12,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"21fbd6bb-5d3b-4b40-8b54-a017b920818c"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["              precision    recall  f1-score   support\n","\n","           0       0.56      0.19      0.28      1075\n","           1       0.51      0.85      0.64      1074\n","\n","    accuracy                           0.52      2149\n","   macro avg       0.54      0.52      0.46      2149\n","weighted avg       0.54      0.52      0.46      2149\n","\n"]}]},{"cell_type":"markdown","source":["## Hyperparameter tuning of XGBoost Classifier using GridsearchCV() function"],"metadata":{"id":"te9-b8YANKAV"}},{"cell_type":"code","source":["xgb_param_grid = {\n","              \"max_depth\": [3, 5],\n","              \"min_child_weight\": [1, 2],\n","              }"],"metadata":{"id":"N__Z711uNH6k"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["xgbgrid = GridSearchCV(estimator = xgbmodel, param_grid = xgb_param_grid, cv = 3, n_jobs = -1, verbose = 0)\n","\n","xgbgrid.fit(X_train, y_train)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"XQj-e9S_NMZO","executionInfo":{"status":"ok","timestamp":1650432754877,"user_tz":-420,"elapsed":173396,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"8d5f5f11-2923-4bb6-b050-6c2ab0b67129"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["GridSearchCV(cv=3, estimator=XGBClassifier(max_depth=5), n_jobs=-1,\n","             param_grid={'max_depth': [3, 5], 'min_child_weight': [1, 2]})"]},"metadata":{},"execution_count":74}]},{"cell_type":"code","source":["xgbgrid.best_params_"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"jpmSg9mQNN3g","executionInfo":{"status":"ok","timestamp":1650432754877,"user_tz":-420,"elapsed":32,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"5d50160a-f926-4571-febe-d26acdd134fd"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["{'max_depth': 5, 'min_child_weight': 1}"]},"metadata":{},"execution_count":75}]},{"cell_type":"code","source":["y_pred2_hyper = xgbgrid.predict(X_test)"],"metadata":{"id":"9SokHJriNPw2"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["accuracy = accuracy_score(y_test, y_pred2_hyper)\n","print(\"Accuracy: %.2f%%\" % (accuracy * 100.0))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"DQ-nKvLwNQ-F","executionInfo":{"status":"ok","timestamp":1650432754878,"user_tz":-420,"elapsed":29,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"41583550-ce85-4425-cad2-0c231a1cc098"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Accuracy: 51.98%\n"]}]},{"cell_type":"code","source":["confusion_matrix(y_test, y_pred2_hyper)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"Cjt9vhfTNSix","executionInfo":{"status":"ok","timestamp":1650432754878,"user_tz":-420,"elapsed":22,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"5025e0d7-d289-4442-9b59-6dc8c0fd3b5e"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["array([[205, 870],\n","       [162, 912]])"]},"metadata":{},"execution_count":78}]},{"cell_type":"code","source":["print(classification_report(y_test, y_pred2_hyper))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"PUpzyJ_pNUZs","executionInfo":{"status":"ok","timestamp":1650432754879,"user_tz":-420,"elapsed":17,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"5ab5b563-eca6-4aa7-ab74-5ac2d5d45c62"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["              precision    recall  f1-score   support\n","\n","           0       0.56      0.19      0.28      1075\n","           1       0.51      0.85      0.64      1074\n","\n","    accuracy                           0.52      2149\n","   macro avg       0.54      0.52      0.46      2149\n","weighted avg       0.54      0.52      0.46      2149\n","\n"]}]},{"cell_type":"markdown","source":["## Other method"],"metadata":{"id":"DRzWAEiTUqov"}},{"cell_type":"code","source":["from sklearn.tree import DecisionTreeClassifier\n","\n","tree = DecisionTreeClassifier()\n","tree.fit(X_train, y_train)\n","pred = tree.predict(X_test)"],"metadata":{"id":"JDuUAozQXJ8h"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["from sklearn.metrics import f1_score\n","\n","f1_score(pred, y_test, average='micro')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"urNtAVTYYuXl","executionInfo":{"status":"ok","timestamp":1650432800285,"user_tz":-420,"elapsed":8,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"98a90217-082b-44a9-ae37-3e4e8dcb83a0"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["0.5155886458818055"]},"metadata":{},"execution_count":81}]},{"cell_type":"code","source":["from sklearn.svm import SVC\n","\n","svc = SVC()\n","svc.fit(X_train, y_train)\n","pred = svc.predict(X_test)"],"metadata":{"id":"OVH8oj7_5r35"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["from sklearn.metrics import f1_score\n","\n","f1_score(pred, y_test, average='micro')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"iKrvCDg_diPN","executionInfo":{"status":"ok","timestamp":1650432921050,"user_tz":-420,"elapsed":5,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"3bbdb7f0-806b-40bf-e4f9-cb55cf6e6218"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["0.5355979525360632"]},"metadata":{},"execution_count":122}]},{"cell_type":"markdown","source":["# Using df_testing_structured.xlsx"],"metadata":{"id":"JMPgBA0jQ_Eg"}},{"cell_type":"code","source":["# clean_test = pd.read_csv('/content/drive/Shareddrives/tk1-anamedsos/test_clean.csv')"],"metadata":{"id":"P5PvR47LRmOT"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["# clean_test.info()"],"metadata":{"id":"IgIn4c0Vboxs"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["profil_test = pd.read_excel('/content/dataset/Anmedsos 2022 Mid-Term Project Released Data/df_testing_structured.xlsx')"],"metadata":{"id":"TcCUQ5PERlxj"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["profil_test.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":496},"id":"tmLdk2BCRC1o","executionInfo":{"status":"ok","timestamp":1650432905016,"user_tz":-420,"elapsed":24,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"466c43b2-26b0-4e53-c2b7-237112193f54"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["    id created_at                                        description  \\\n","0  1.0 2017-05-12  A place to record the insights I receive on th...   \n","1  2.0 2012-03-09  Official Twitter of Mario Teguh. \\nAdmin@exnal...   \n","2  3.0 2019-11-15  Apprentice Python programmer :)\\n\\nhttps://t.c...   \n","3  4.0 2013-04-10              A proud Indonesian. Bangga Berbangsa.   \n","4  5.0 2012-01-11  Chairman MNC Group | Ketum Partai Perindo | Ke...   \n","\n","   followers_count  following_count  listed_count  \\\n","0          94952.0            427.0          59.0   \n","1        9181064.0              0.0        3007.0   \n","2             25.0            217.0           1.0   \n","3        1049638.0            309.0         402.0   \n","4         551980.0            374.0         375.0   \n","\n","                        location                         name  tweet_count  \\\n","0  Inquiry: aisykaspol@gmail.com                           ‏َ      26004.0   \n","1             Jakarta, Indonesia                  Mario Teguh      55031.0   \n","2                            NaN  Florentin Anggraini Purnama         51.0   \n","3                      Indonesia                Gita Wirjawan      17653.0   \n","4         Jakarta Capital Region           Hary Tanoesoedibjo       9185.0   \n","\n","         username  verified  \n","0       lilithkis       0.0  \n","1      marioteguh       1.0  \n","2  flo_and_behold       0.0  \n","3       gwirjawan       1.0  \n","4      hary_tanoe       1.0  "],"text/html":["\n","  <div id=\"df-b0a12140-f568-40f4-b5a4-cfe61297f205\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>id</th>\n","      <th>created_at</th>\n","      <th>description</th>\n","      <th>followers_count</th>\n","      <th>following_count</th>\n","      <th>listed_count</th>\n","      <th>location</th>\n","      <th>name</th>\n","      <th>tweet_count</th>\n","      <th>username</th>\n","      <th>verified</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>1.0</td>\n","      <td>2017-05-12</td>\n","      <td>A place to record the insights I receive on th...</td>\n","      <td>94952.0</td>\n","      <td>427.0</td>\n","      <td>59.0</td>\n","      <td>Inquiry: aisykaspol@gmail.com</td>\n","      <td>‏َ</td>\n","      <td>26004.0</td>\n","      <td>lilithkis</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2.0</td>\n","      <td>2012-03-09</td>\n","      <td>Official Twitter of Mario Teguh. \\nAdmin@exnal...</td>\n","      <td>9181064.0</td>\n","      <td>0.0</td>\n","      <td>3007.0</td>\n","      <td>Jakarta, Indonesia</td>\n","      <td>Mario Teguh</td>\n","      <td>55031.0</td>\n","      <td>marioteguh</td>\n","      <td>1.0</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>3.0</td>\n","      <td>2019-11-15</td>\n","      <td>Apprentice Python programmer :)\\n\\nhttps://t.c...</td>\n","      <td>25.0</td>\n","      <td>217.0</td>\n","      <td>1.0</td>\n","      <td>NaN</td>\n","      <td>Florentin Anggraini Purnama</td>\n","      <td>51.0</td>\n","      <td>flo_and_behold</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>4.0</td>\n","      <td>2013-04-10</td>\n","      <td>A proud Indonesian. Bangga Berbangsa.</td>\n","      <td>1049638.0</td>\n","      <td>309.0</td>\n","      <td>402.0</td>\n","      <td>Indonesia</td>\n","      <td>Gita Wirjawan</td>\n","      <td>17653.0</td>\n","      <td>gwirjawan</td>\n","      <td>1.0</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>5.0</td>\n","      <td>2012-01-11</td>\n","      <td>Chairman MNC Group | Ketum Partai Perindo | Ke...</td>\n","      <td>551980.0</td>\n","      <td>374.0</td>\n","      <td>375.0</td>\n","      <td>Jakarta Capital Region</td>\n","      <td>Hary Tanoesoedibjo</td>\n","      <td>9185.0</td>\n","      <td>hary_tanoe</td>\n","      <td>1.0</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-b0a12140-f568-40f4-b5a4-cfe61297f205')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-b0a12140-f568-40f4-b5a4-cfe61297f205 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-b0a12140-f568-40f4-b5a4-cfe61297f205');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":86}]},{"cell_type":"code","source":["profil_test.info()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"9kXIdjCZcRR5","executionInfo":{"status":"ok","timestamp":1650432905019,"user_tz":-420,"elapsed":26,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"85352f77-2ab1-4016-ce90-5dc4c3b55fa1"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["<class 'pandas.core.frame.DataFrame'>\n","RangeIndex: 1054 entries, 0 to 1053\n","Data columns (total 11 columns):\n"," #   Column           Non-Null Count  Dtype         \n","---  ------           --------------  -----         \n"," 0   id               1054 non-null   float64       \n"," 1   created_at       1054 non-null   datetime64[ns]\n"," 2   description      893 non-null    object        \n"," 3   followers_count  1054 non-null   float64       \n"," 4   following_count  1054 non-null   float64       \n"," 5   listed_count     1054 non-null   float64       \n"," 6   location         753 non-null    object        \n"," 7   name             1054 non-null   object        \n"," 8   tweet_count      1054 non-null   float64       \n"," 9   username         1054 non-null   object        \n"," 10  verified         1054 non-null   float64       \n","dtypes: datetime64[ns](1), float64(6), object(4)\n","memory usage: 90.7+ KB\n"]}]},{"cell_type":"code","source":["profil_test"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":800},"id":"Zt43AgsNnwbI","executionInfo":{"status":"ok","timestamp":1650432905020,"user_tz":-420,"elapsed":20,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"9aa5efda-f01b-4caf-c755-f36fc861ab56"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["          id created_at                                        description  \\\n","0        1.0 2017-05-12  A place to record the insights I receive on th...   \n","1        2.0 2012-03-09  Official Twitter of Mario Teguh. \\nAdmin@exnal...   \n","2        3.0 2019-11-15  Apprentice Python programmer :)\\n\\nhttps://t.c...   \n","3        4.0 2013-04-10              A proud Indonesian. Bangga Berbangsa.   \n","4        5.0 2012-01-11  Chairman MNC Group | Ketum Partai Perindo | Ke...   \n","...      ...        ...                                                ...   \n","1049  1050.0 2013-11-16              S.W.I.M.M.E.R || KA bandung,indonesia   \n","1050  1051.0 2011-07-25                                  IG: @fithrisyamsu   \n","1051  1052.0 2021-06-28  Jonathan Xavier Hartono - Class of 2022 - Golf...   \n","1052  1053.0 2012-05-06                                      seethegooder.   \n","1053  1054.0 2012-11-24                         Dandung O'neal Pamungkas 💙   \n","\n","      followers_count  following_count  listed_count  \\\n","0             94952.0            427.0          59.0   \n","1           9181064.0              0.0        3007.0   \n","2                25.0            217.0           1.0   \n","3           1049638.0            309.0         402.0   \n","4            551980.0            374.0         375.0   \n","...               ...              ...           ...   \n","1049             75.0            261.0           0.0   \n","1050           2706.0            148.0           4.0   \n","1051              1.0             17.0           0.0   \n","1052           1072.0            710.0           1.0   \n","1053            349.0            212.0           0.0   \n","\n","                            location                         name  \\\n","0      Inquiry: aisykaspol@gmail.com                           ‏َ   \n","1                 Jakarta, Indonesia                  Mario Teguh   \n","2                                NaN  Florentin Anggraini Purnama   \n","3                          Indonesia                Gita Wirjawan   \n","4             Jakarta Capital Region           Hary Tanoesoedibjo   \n","...                              ...                          ...   \n","1049                             NaN               farrel tangkas   \n","1050                             NaN                Fithri Syamsu   \n","1051  Jakarta Capital Region, Indone      Jonathan Xavier Hartono   \n","1052                       Indonesia          Dewi Putri Sungging   \n","1053             Wonosobo - Semarang            Tari Dyah Lestari   \n","\n","      tweet_count        username  verified  \n","0         26004.0       lilithkis       0.0  \n","1         55031.0      marioteguh       1.0  \n","2            51.0  flo_and_behold       0.0  \n","3         17653.0       gwirjawan       1.0  \n","4          9185.0      hary_tanoe       1.0  \n","...           ...             ...       ...  \n","1049         18.0   farreltangkas       0.0  \n","1050       6085.0    fithrisyamsu       0.0  \n","1051          1.0         jojoxh_       0.0  \n","1052       9892.0      dpsungging       0.0  \n","1053       3360.0       tari_1314       0.0  \n","\n","[1054 rows x 11 columns]"],"text/html":["\n","  <div id=\"df-49804072-1a89-4055-9fd6-45ac6f52290b\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>id</th>\n","      <th>created_at</th>\n","      <th>description</th>\n","      <th>followers_count</th>\n","      <th>following_count</th>\n","      <th>listed_count</th>\n","      <th>location</th>\n","      <th>name</th>\n","      <th>tweet_count</th>\n","      <th>username</th>\n","      <th>verified</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>1.0</td>\n","      <td>2017-05-12</td>\n","      <td>A place to record the insights I receive on th...</td>\n","      <td>94952.0</td>\n","      <td>427.0</td>\n","      <td>59.0</td>\n","      <td>Inquiry: aisykaspol@gmail.com</td>\n","      <td>‏َ</td>\n","      <td>26004.0</td>\n","      <td>lilithkis</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2.0</td>\n","      <td>2012-03-09</td>\n","      <td>Official Twitter of Mario Teguh. \\nAdmin@exnal...</td>\n","      <td>9181064.0</td>\n","      <td>0.0</td>\n","      <td>3007.0</td>\n","      <td>Jakarta, Indonesia</td>\n","      <td>Mario Teguh</td>\n","      <td>55031.0</td>\n","      <td>marioteguh</td>\n","      <td>1.0</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>3.0</td>\n","      <td>2019-11-15</td>\n","      <td>Apprentice Python programmer :)\\n\\nhttps://t.c...</td>\n","      <td>25.0</td>\n","      <td>217.0</td>\n","      <td>1.0</td>\n","      <td>NaN</td>\n","      <td>Florentin Anggraini Purnama</td>\n","      <td>51.0</td>\n","      <td>flo_and_behold</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>4.0</td>\n","      <td>2013-04-10</td>\n","      <td>A proud Indonesian. Bangga Berbangsa.</td>\n","      <td>1049638.0</td>\n","      <td>309.0</td>\n","      <td>402.0</td>\n","      <td>Indonesia</td>\n","      <td>Gita Wirjawan</td>\n","      <td>17653.0</td>\n","      <td>gwirjawan</td>\n","      <td>1.0</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>5.0</td>\n","      <td>2012-01-11</td>\n","      <td>Chairman MNC Group | Ketum Partai Perindo | Ke...</td>\n","      <td>551980.0</td>\n","      <td>374.0</td>\n","      <td>375.0</td>\n","      <td>Jakarta Capital Region</td>\n","      <td>Hary Tanoesoedibjo</td>\n","      <td>9185.0</td>\n","      <td>hary_tanoe</td>\n","      <td>1.0</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>1049</th>\n","      <td>1050.0</td>\n","      <td>2013-11-16</td>\n","      <td>S.W.I.M.M.E.R || KA bandung,indonesia</td>\n","      <td>75.0</td>\n","      <td>261.0</td>\n","      <td>0.0</td>\n","      <td>NaN</td>\n","      <td>farrel tangkas</td>\n","      <td>18.0</td>\n","      <td>farreltangkas</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>1050</th>\n","      <td>1051.0</td>\n","      <td>2011-07-25</td>\n","      <td>IG: @fithrisyamsu</td>\n","      <td>2706.0</td>\n","      <td>148.0</td>\n","      <td>4.0</td>\n","      <td>NaN</td>\n","      <td>Fithri Syamsu</td>\n","      <td>6085.0</td>\n","      <td>fithrisyamsu</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>1051</th>\n","      <td>1052.0</td>\n","      <td>2021-06-28</td>\n","      <td>Jonathan Xavier Hartono - Class of 2022 - Golf...</td>\n","      <td>1.0</td>\n","      <td>17.0</td>\n","      <td>0.0</td>\n","      <td>Jakarta Capital Region, Indone</td>\n","      <td>Jonathan Xavier Hartono</td>\n","      <td>1.0</td>\n","      <td>jojoxh_</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>1052</th>\n","      <td>1053.0</td>\n","      <td>2012-05-06</td>\n","      <td>seethegooder.</td>\n","      <td>1072.0</td>\n","      <td>710.0</td>\n","      <td>1.0</td>\n","      <td>Indonesia</td>\n","      <td>Dewi Putri Sungging</td>\n","      <td>9892.0</td>\n","      <td>dpsungging</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>1053</th>\n","      <td>1054.0</td>\n","      <td>2012-11-24</td>\n","      <td>Dandung O'neal Pamungkas 💙</td>\n","      <td>349.0</td>\n","      <td>212.0</td>\n","      <td>0.0</td>\n","      <td>Wonosobo - Semarang</td>\n","      <td>Tari Dyah Lestari</td>\n","      <td>3360.0</td>\n","      <td>tari_1314</td>\n","      <td>0.0</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>1054 rows × 11 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-49804072-1a89-4055-9fd6-45ac6f52290b')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-49804072-1a89-4055-9fd6-45ac6f52290b button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-49804072-1a89-4055-9fd6-45ac6f52290b');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":88}]},{"cell_type":"code","source":["profil_test['description'] = profil_test['description'].fillna(\"\")"],"metadata":{"id":"0XNanbqGn6st"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["def clean(review):\n","  descrip = re.sub('[^a-zA-Z]', ' ', review)\n","  \n","  review = review.lower()\n","\n","  return review\n","\n","profil_test['descrip_cleaned'] = pd.DataFrame(profil_test['description'].apply(lambda x: clean(x)))\n","\n","profil_test.head()"],"metadata":{"executionInfo":{"status":"ok","timestamp":1650432905021,"user_tz":-420,"elapsed":20,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"colab":{"base_uri":"https://localhost:8080/","height":496},"id":"6mWUOrSBnIio","outputId":"219d7881-5564-43a4-a64a-605a77e82cca"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["    id created_at                                        description  \\\n","0  1.0 2017-05-12  A place to record the insights I receive on th...   \n","1  2.0 2012-03-09  Official Twitter of Mario Teguh. \\nAdmin@exnal...   \n","2  3.0 2019-11-15  Apprentice Python programmer :)\\n\\nhttps://t.c...   \n","3  4.0 2013-04-10              A proud Indonesian. Bangga Berbangsa.   \n","4  5.0 2012-01-11  Chairman MNC Group | Ketum Partai Perindo | Ke...   \n","\n","   followers_count  following_count  listed_count  \\\n","0          94952.0            427.0          59.0   \n","1        9181064.0              0.0        3007.0   \n","2             25.0            217.0           1.0   \n","3        1049638.0            309.0         402.0   \n","4         551980.0            374.0         375.0   \n","\n","                        location                         name  tweet_count  \\\n","0  Inquiry: aisykaspol@gmail.com                           ‏َ      26004.0   \n","1             Jakarta, Indonesia                  Mario Teguh      55031.0   \n","2                            NaN  Florentin Anggraini Purnama         51.0   \n","3                      Indonesia                Gita Wirjawan      17653.0   \n","4         Jakarta Capital Region           Hary Tanoesoedibjo       9185.0   \n","\n","         username  verified                                    descrip_cleaned  \n","0       lilithkis       0.0  a place to record the insights i receive on th...  \n","1      marioteguh       1.0  official twitter of mario teguh. \\nadmin@exnal...  \n","2  flo_and_behold       0.0  apprentice python programmer :)\\n\\nhttps://t.c...  \n","3       gwirjawan       1.0              a proud indonesian. bangga berbangsa.  \n","4      hary_tanoe       1.0  chairman mnc group | ketum partai perindo | ke...  "],"text/html":["\n","  <div id=\"df-95fce6b8-1414-48fb-a3ee-c63496d32e59\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>id</th>\n","      <th>created_at</th>\n","      <th>description</th>\n","      <th>followers_count</th>\n","      <th>following_count</th>\n","      <th>listed_count</th>\n","      <th>location</th>\n","      <th>name</th>\n","      <th>tweet_count</th>\n","      <th>username</th>\n","      <th>verified</th>\n","      <th>descrip_cleaned</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>1.0</td>\n","      <td>2017-05-12</td>\n","      <td>A place to record the insights I receive on th...</td>\n","      <td>94952.0</td>\n","      <td>427.0</td>\n","      <td>59.0</td>\n","      <td>Inquiry: aisykaspol@gmail.com</td>\n","      <td>‏َ</td>\n","      <td>26004.0</td>\n","      <td>lilithkis</td>\n","      <td>0.0</td>\n","      <td>a place to record the insights i receive on th...</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2.0</td>\n","      <td>2012-03-09</td>\n","      <td>Official Twitter of Mario Teguh. \\nAdmin@exnal...</td>\n","      <td>9181064.0</td>\n","      <td>0.0</td>\n","      <td>3007.0</td>\n","      <td>Jakarta, Indonesia</td>\n","      <td>Mario Teguh</td>\n","      <td>55031.0</td>\n","      <td>marioteguh</td>\n","      <td>1.0</td>\n","      <td>official twitter of mario teguh. \\nadmin@exnal...</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>3.0</td>\n","      <td>2019-11-15</td>\n","      <td>Apprentice Python programmer :)\\n\\nhttps://t.c...</td>\n","      <td>25.0</td>\n","      <td>217.0</td>\n","      <td>1.0</td>\n","      <td>NaN</td>\n","      <td>Florentin Anggraini Purnama</td>\n","      <td>51.0</td>\n","      <td>flo_and_behold</td>\n","      <td>0.0</td>\n","      <td>apprentice python programmer :)\\n\\nhttps://t.c...</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>4.0</td>\n","      <td>2013-04-10</td>\n","      <td>A proud Indonesian. Bangga Berbangsa.</td>\n","      <td>1049638.0</td>\n","      <td>309.0</td>\n","      <td>402.0</td>\n","      <td>Indonesia</td>\n","      <td>Gita Wirjawan</td>\n","      <td>17653.0</td>\n","      <td>gwirjawan</td>\n","      <td>1.0</td>\n","      <td>a proud indonesian. bangga berbangsa.</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>5.0</td>\n","      <td>2012-01-11</td>\n","      <td>Chairman MNC Group | Ketum Partai Perindo | Ke...</td>\n","      <td>551980.0</td>\n","      <td>374.0</td>\n","      <td>375.0</td>\n","      <td>Jakarta Capital Region</td>\n","      <td>Hary Tanoesoedibjo</td>\n","      <td>9185.0</td>\n","      <td>hary_tanoe</td>\n","      <td>1.0</td>\n","      <td>chairman mnc group | ketum partai perindo | ke...</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-95fce6b8-1414-48fb-a3ee-c63496d32e59')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-95fce6b8-1414-48fb-a3ee-c63496d32e59 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-95fce6b8-1414-48fb-a3ee-c63496d32e59');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":90}]},{"cell_type":"code","source":["def profile_preprocessing(tweets):\n","  clean_tweets = []\n","  for tweet in tqdm(tweets):\n","    clean_tw = clean_tweet(tweet)\n","    clean_tw = remove_stopwords(clean_tw, stopwords)\n","    # clean_tw = stemming(clean_tw, stemmer)\n","    clean_tweets.append(clean_tw)\n","\n","  return clean_tweets"],"metadata":{"id":"t5z_6Ht6nIiu"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["profil_test['clean_description'] = profile_preprocessing(profil_test['description'])"],"metadata":{"executionInfo":{"status":"ok","timestamp":1650432909628,"user_tz":-420,"elapsed":4626,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"colab":{"base_uri":"https://localhost:8080/"},"id":"hVUamT2knIiu","outputId":"843c7286-3309-49a1-aec5-80f20365c98a"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stderr","text":["100%|██████████| 1054/1054 [00:04<00:00, 225.79it/s]\n"]}]},{"cell_type":"markdown","source":["## Tokenization of ‘description_Cleaned’ column and remove stopwords"],"metadata":{"id":"CkQTJr17nIiv"}},{"cell_type":"code","source":["profil_test['clean_description'] = [nltk.word_tokenize(desc) for desc in profil_test['clean_description']]\n","\n","descrip_new=[]\n","for each_row in profil_test['clean_description']:\n","    descrip_new.append([i for i in each_row if i.isalpha()])"],"metadata":{"id":"Kl69h-YPnIiv"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["from nltk.corpus import stopwords as nltk_stopwords\n","# nltk.download('punkt')\n","\n","# nltk.download('stopwords')\n","# nltk.download('wordnet')"],"metadata":{"id":"bhqYtycSxGDQ"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["stop_words = set(nltk_stopwords.words(['english', 'indonesian']))\n","\n","descrip_new_alpha = []\n","for each_row in descrip_new:\n","    descrip_new_alpha.append([i for i in each_row if i not in stop_words])"],"metadata":{"id":"j1Qx_Y9UnIiw"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["descrip_new[-5:]"],"metadata":{"executionInfo":{"status":"ok","timestamp":1650432909630,"user_tz":-420,"elapsed":31,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"colab":{"base_uri":"https://localhost:8080/"},"id":"-gazT9YynIiw","outputId":"06dda7e1-cbd7-4566-81d9-1f321865ff4a"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["[['si', 'gue', 'i', 'e', 'r', 'kak', 'bandung', 'indonesia'],\n"," ['ig', 'fithrisyamsu'],\n"," ['jonathan',\n","  'xavier',\n","  'hartono',\n","  'class',\n","  'of',\n","  'golf',\n","  'athlete',\n","  'pianist',\n","  'entrepreneur',\n","  'ncaa',\n","  'id'],\n"," ['seethegooder'],\n"," ['dandung', 'o', 'neal', 'pamungkas']]"]},"metadata":{},"execution_count":96}]},{"cell_type":"markdown","source":["## Lemmatization of ‘text_Cleaned’ column"],"metadata":{"id":"HC2jylsTnIiw"}},{"cell_type":"code","source":["nltk.download('wordnet')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"mbg7qya1pCCq","executionInfo":{"status":"ok","timestamp":1650432909631,"user_tz":-420,"elapsed":25,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"a2391b7e-6a10-4803-b9b7-03d1f291107a"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["[nltk_data] Downloading package wordnet to /root/nltk_data...\n","[nltk_data]   Package wordnet is already up-to-date!\n"]},{"output_type":"execute_result","data":{"text/plain":["True"]},"metadata":{},"execution_count":97}]},{"cell_type":"code","source":["description_new_lemma = []\n","lemma = nltk.WordNetLemmatizer()\n","\n","for each_row in descrip_new_alpha:\n","    description_new_lemma.append([lemma.lemmatize(word) for word in each_row])\n","\n","profil_test['clean_description'] = description_new_lemma\n","profil_test['clean_description'] = [\" \".join(desc) for desc in profil_test['clean_description'].values]"],"metadata":{"id":"YKjxagz_nIiw"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["profil_test['clean_description']"],"metadata":{"executionInfo":{"status":"ok","timestamp":1650432909631,"user_tz":-420,"elapsed":19,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"colab":{"base_uri":"https://localhost:8080/"},"id":"xLw_zCFpnIix","outputId":"5b17fd40-6548-44dd-adce-ee7a36710d8d"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["0        place record insight receive thing happen around\n","1            official twitter mario teguh admin exnal com\n","2                            apprentice python programmer\n","3                       proud indonesian bangga berbangsa\n","4       chairman mnc group ketum partai perindo ketum ...\n","                              ...                        \n","1049                     si gue e r kak bandung indonesia\n","1050                                      ig fithrisyamsu\n","1051    jonathan xavier hartono class golf athlete pia...\n","1052                                         seethegooder\n","1053                               dandung neal pamungkas\n","Name: clean_description, Length: 1054, dtype: object"]},"metadata":{},"execution_count":99}]},{"cell_type":"markdown","source":["## Vectorization of texts in ‘clean_description columns"],"metadata":{"id":"i5kEwYtynIix"}},{"cell_type":"code","source":["cv = CountVectorizer(max_features = 1000)\n","x = cv.fit_transform(profil_test['clean_description']).toarray()"],"metadata":{"id":"NftyYdJznIix"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["np.array(x)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"8ZYtGNVupG8a","executionInfo":{"status":"ok","timestamp":1650432909632,"user_tz":-420,"elapsed":14,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"48c8bccf-e624-48cb-b793-6f6211ead4d3"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["array([[0, 0, 0, ..., 0, 0, 0],\n","       [0, 0, 0, ..., 0, 0, 0],\n","       [0, 0, 0, ..., 0, 0, 0],\n","       ...,\n","       [0, 0, 0, ..., 0, 0, 0],\n","       [0, 0, 0, ..., 0, 0, 0],\n","       [0, 0, 0, ..., 0, 0, 0]])"]},"metadata":{},"execution_count":101}]},{"cell_type":"code","source":[""],"metadata":{"id":"BuMpk39mVg3p"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[" y_pred = nbModel_grid.predict(x)"],"metadata":{"id":"Okwr6Srtxjg5"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["res = pd.DataFrame(y_pred)"],"metadata":{"id":"Sj_DApzW0V8M"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["for gen in res[0]:\n","  if gen=='1':\n","     res[0].replace({'1':'pria'},inplace=True)\n","  elif gen=='0':\n","     res[0].replace({'0':'wanita'},inplace=True)"],"metadata":{"id":"hec7BHxI0iIZ"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["res.to_csv(\"/content/drive/Shareddrives/tk1-anamedsos/result/res_profil_nb.csv\")"],"metadata":{"id":"rt_FdQbW1T_F"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[""],"metadata":{"id":"5QWFTGsTVf8w"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[" y_pred = lgbgrid.predict(x)"],"metadata":{"id":"fTQWLuzDUC5o"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["res = pd.DataFrame(y_pred)"],"metadata":{"id":"f-PLOfEIUIpF"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["for gen in res[0]:\n","  if gen=='1':\n","     res[0].replace({'1':'pria'},inplace=True)\n","  elif gen=='0':\n","     res[0].replace({'0':'wanita'},inplace=True)"],"metadata":{"id":"sESrQYzvUL9x"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["res.to_csv(\"/content/drive/Shareddrives/tk1-anamedsos/result/res_profil_lgbm.csv\")"],"metadata":{"id":"5SFQlsLwUMpA"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[""],"metadata":{"id":"UH20P4eyVZkP"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[" y_pred = xgbgrid.predict(x)"],"metadata":{"id":"IwD1l_6oVaHt"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["res = pd.DataFrame(y_pred)"],"metadata":{"id":"O2Yvhx4BVaHt"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["for gen in res[0]:\n","  if gen=='1':\n","     res[0].replace({'1':'pria'},inplace=True)\n","  elif gen=='0':\n","     res[0].replace({'0':'wanita'},inplace=True)"],"metadata":{"id":"5bHkQTJ_VaHt"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["res.to_csv(\"/content/drive/Shareddrives/tk1-anamedsos/result/res_profil_xgbgrid.csv\")"],"metadata":{"id":"BGtd5BolVaHu"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[""],"metadata":{"id":"BYQM0NVjVak3"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[" y_pred = tree.predict(x)"],"metadata":{"id":"m0YqwGY0VdWR"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["res = pd.DataFrame(y_pred)"],"metadata":{"id":"Z6hn6DVnVdWR"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["for gen in res[0]:\n","  if gen=='1':\n","     res[0].replace({'1':'pria'},inplace=True)\n","  elif gen=='0':\n","     res[0].replace({'0':'wanita'},inplace=True)"],"metadata":{"id":"yRlizPuPVdWR"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["res.to_csv(\"/content/drive/Shareddrives/tk1-anamedsos/result/res_profil_tree.csv\")"],"metadata":{"id":"NW_XuDO3VdWS"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[""],"metadata":{"id":"CcBiJOXWVd-1"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[" y_pred = svc.predict(x)"],"metadata":{"id":"4u2BLaHeVeMu"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["res = pd.DataFrame(y_pred)"],"metadata":{"id":"xd59K2l2VeMu"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["for gen in res[0]:\n","  if gen=='1':\n","     res[0].replace({'1':'pria'},inplace=True)\n","  elif gen=='0':\n","     res[0].replace({'0':'wanita'},inplace=True)"],"metadata":{"id":"BX6tWl6LVeMu"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["res.to_csv(\"/content/drive/Shareddrives/tk1-anamedsos/result/res_profil_svc.csv\")"],"metadata":{"id":"gHUk4HkaVeMu"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["# pd.DataFrame(x)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"id":"SAJITxoge-Oq","executionInfo":{"status":"ok","timestamp":1650433251677,"user_tz":-420,"elapsed":364,"user":{"displayName":"Muhammad Ichsanul Amal","userId":"17108023446772690396"}},"outputId":"b61017b9-0a8b-4849-d613-ecfb2c12c273"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["      0    1    2    3    4    5    6    7    8    9    ...  990  991  992  \\\n","0       0    0    0    0    0    0    0    0    0    0  ...    0    0    0   \n","1       0    0    0    0    0    0    0    0    0    0  ...    0    0    0   \n","2       0    0    0    0    0    0    0    0    0    0  ...    0    0    0   \n","3       0    0    0    0    0    0    0    0    0    0  ...    0    0    0   \n","4       0    0    0    0    0    0    0    0    0    0  ...    0    0    0   \n","...   ...  ...  ...  ...  ...  ...  ...  ...  ...  ...  ...  ...  ...  ...   \n","1049    0    0    0    0    0    0    0    0    0    0  ...    0    0    0   \n","1050    0    0    0    0    0    0    0    0    0    0  ...    0    0    0   \n","1051    0    0    0    0    0    0    0    0    0    0  ...    0    0    0   \n","1052    0    0    0    0    0    0    0    0    0    0  ...    0    0    0   \n","1053    0    0    0    0    0    0    0    0    0    0  ...    0    0    0   \n","\n","      993  994  995  996  997  998  999  \n","0       0    0    0    0    0    0    0  \n","1       0    0    0    0    0    0    0  \n","2       0    0    0    0    0    0    0  \n","3       0    0    0    0    0    0    0  \n","4       0    0    0    0    0    0    0  \n","...   ...  ...  ...  ...  ...  ...  ...  \n","1049    0    0    0    0    0    0    0  \n","1050    0    0    0    0    0    0    0  \n","1051    0    0    0    0    0    0    0  \n","1052    0    0    0    0    0    0    0  \n","1053    0    0    0    0    0    0    0  \n","\n","[1054 rows x 1000 columns]"],"text/html":["\n","  <div id=\"df-ce1f3e07-add5-450c-8145-9d6b22fea494\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>0</th>\n","      <th>1</th>\n","      <th>2</th>\n","      <th>3</th>\n","      <th>4</th>\n","      <th>5</th>\n","      <th>6</th>\n","      <th>7</th>\n","      <th>8</th>\n","      <th>9</th>\n","      <th>...</th>\n","      <th>990</th>\n","      <th>991</th>\n","      <th>992</th>\n","      <th>993</th>\n","      <th>994</th>\n","      <th>995</th>\n","      <th>996</th>\n","      <th>997</th>\n","      <th>998</th>\n","      <th>999</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>1049</th>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>1050</th>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>1051</th>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>1052</th>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>1053</th>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>1054 rows × 1000 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-ce1f3e07-add5-450c-8145-9d6b22fea494')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-ce1f3e07-add5-450c-8145-9d6b22fea494 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-ce1f3e07-add5-450c-8145-9d6b22fea494');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":126}]}],"metadata":{"colab":{"collapsed_sections":[],"name":"Modeling_Gender_Profil","provenance":[]},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}